<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NutriFit</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Background gradien animasi */
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #FFE259, #FFA751, #9CECFB, #65C7F7, #0052D4);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: #222;
      padding-bottom: 80px; /* ruang untuk navbar */
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    header {
      text-align: center;
      padding: 30px 15px 15px;
      color: #fff;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
    }

    header h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 2rem;
      margin: 0;
      animation: fadeInDown 1.5s ease;
    }

    header p {
      font-size: 0.95rem;
      max-width: 600px;
      margin: 10px auto 0;
      opacity: 0.95;
      animation: fadeIn 2s ease;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Card Glassmorphism */
    .card {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 16px;
      padding: 20px;
      margin: 15px auto;
      max-width: 700px;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 14px rgba(0,0,0,0.2);
      animation: fadeIn 1s ease;
      color: #222;
      display: none; /* default disembunyikan */
      font-size: 0.95rem;
    }

    .card.active {
      display: block; /* hanya card aktif yg tampil */
    }

    .card h2 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.3rem;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #333;
    }
    
    .card h2 i {
      color: #ff9800;
    }

    button {
      padding: 10px 18px;
      border: none;
      border-radius: 25px;
      background: linear-gradient(135deg, #ff9800, #ffc107);
      color: #fff;
      font-size: 0.95rem;
      cursor: pointer;
      transition: 0.3s;
      font-family: 'Poppins', sans-serif;
      margin-top: 8px;
    }

    button:hover {
      transform: scale(1.05);
      background: linear-gradient(135deg, #ffc107, #ff9800);
    }

    input, select {
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin: 6px 0;
      width: 100%;
      font-size: 0.95rem;
      box-sizing: border-box;
    }

    .result {
      margin-top: 15px;
      font-weight: bold;
      font-size: 1rem;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.5s ease;
    }
    .result.show {
      opacity: 1;
      transform: translateY(0);
    }

    .normal { color: #16a34a; }   /* hijau */
    .warning { color: #dc2626; }  /* merah */
    .info { 
      color: #0052D4; 
      font-size: 0.9rem;
      font-weight: normal;
      text-align: left;
      margin-top: 15px;
      background: #e6f7ff;
      border-left: 5px solid #65C7F7;
      padding: 10px;
      border-radius: 8px;
      line-height: 1.5;
    }

    .klasifikasi {
      margin-top: 15px;
      font-size: 0.9rem;
      line-height: 1.5;
    }

    .klasifikasi h3 {
      font-size: 1rem;
      margin-bottom: 8px;
      font-family: 'Poppins', sans-serif;
    }

    .explanation {
        margin-top: 10px;
        font-size: 0.85rem;
        line-height: 1.4;
        color: #555;
    }

    /* Styling khusus untuk hasil kalori */
    .result-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
        text-align: center;
    }
    .result-card {
        background: #f7f7f7;
        border-radius: 12px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .result-card h4 {
        margin: 0 0 5px;
        font-size: 1rem;
        font-weight: 500;
        color: #666;
    }
    .result-value {
        font-family: 'Poppins', sans-serif;
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
    }
    .result-value small {
        font-size: 0.6em;
        font-weight: normal;
        color: #555;
    }
    .result-value.bmr-value { color: #2ecc71; }
    .result-value.tdee-value { color: #3498db; }

    .suggestion {
        margin-top: 20px;
        font-size: 0.9em;
        font-weight: normal;
        text-align: left;
    }
    .suggestion ul {
        list-style: none;
        padding-left: 0;
        margin: 10px 0 0;
    }
    .suggestion li {
        margin-bottom: 8px;
        position: relative;
        padding-left: 20px;
    }
    .suggestion li::before {
        content: '\f058'; /* Font Awesome check-circle */
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        position: absolute;
        left: 0;
        color: #ff9800;
    }
    .suggestion b {
        color: #ff9800;
    }

    /* Navbar bawah */
    .navbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
      z-index: 100;
    }

    .navbar a {
      color: #555;
      text-decoration: none;
      font-size: 0.8rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: 0.3s;
      cursor: pointer;
    }

    .navbar a i {
      font-size: 1.2rem;
      margin-bottom: 3px;
    }

    .navbar a.active, .navbar a:hover {
      color: #ff9800;
      transform: scale(1.1);
    }
    
    /* === Tambahan Style untuk Fitur Sumber Kalori & Menu === */
    .section-divider {
        height: 2px;
        background: linear-gradient(to right, #ccc, #fff, #ccc);
        border: none;
        margin: 30px auto;
    }

    .content-sub-title {
        font-family: 'Poppins', sans-serif;
        font-size: 1.2rem;
        margin-top: 20px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        color: #555;
    }
    
    .toggle-button-container {
      text-align: center;
      margin: 15px 0;
    }
    .toggle-button {
      font-size: 0.9rem;
      padding: 10px 20px;
      min-width: 250px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .nav-tabs {
        display: flex;
        justify-content: space-around;
        gap: 5px;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }

    .nav-tabs button {
        background: rgba(255, 255, 255, 0.4);
        color: #333;
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        font-family: 'Quicksand', sans-serif;
        font-size: 0.85rem;
        padding: 8px 12px;
        transition: all 0.3s ease;
        margin: 4px 0;
    }

    .nav-tabs button.active {
        background: linear-gradient(45deg, #ff9800, #ffc107);
        color: #fff;
        border: 1px solid #ff9800;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transform: translateY(-2px);
    }
    
    .source-kalori-wrapper, #menu-container {
        display: none;
        overflow: hidden;
        max-height: 0;
        transition: all 0.5s ease-out;
    }
    
    .source-kalori-wrapper.show, #menu-container.show {
      display: block;
      max-height: 2000px; /* Cukup besar untuk menampung konten */
    }

    .content-table, .menu-content {
      display: none; /* Default: Sembunyikan semua konten */
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: #fdfdfd;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      animation: fadeIn 0.8s ease; /* Tambahkan animasi fade-in */
    }

    .content-table.active, .menu-content.active {
      display: block; /* Tampilkan konten yang aktif */
    }

    .content-table th, .content-table td {
        padding: 12px;
        text-align: left;
    }

    .content-table thead {
        background-color: #f0f0f0;
    }

    .content-table tbody tr:nth-child(even) {
        background-color: #fafafa;
    }

    .content-table td:last-child {
        font-weight: bold;
        color: #ff9800;
    }

    .content-table h3 {
        font-size: 1rem;
        margin: 0;
        padding: 10px 0;
        color: #555;
    }
    
    .content-table table {
        width: 100%;
        border-collapse: collapse;
    }
    .content-table table th, .content-table table td {
        padding: 8px;
        border-top: 1px solid #eee;
    }
    .content-table table th {
        background-color: #f5f5f5;
    }
    .content-table table tr:last-child td {
        border-bottom: none;
    }

    /* Style untuk Menu Makanan */
    .menu-day-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
      margin-bottom: 20px;
    }
    .menu-day-nav button {
      padding: 8px 10px;
      font-size: 0.8rem;
    }
    .menu-header {
      text-align: center;
      margin-bottom: 15px;
    }
    .menu-header h3 {
      font-size: 1.5rem;
      margin-bottom: 5px;
      color: #ff9800;
    }
    .macro-info {
      display: flex;
      justify-content: space-around;
      gap: 10px;
      margin-top: 10px;
      font-size: 0.9rem;
      font-weight: bold;
    }
    .macro-info span {
      background: #f0f0f0;
      padding: 5px 10px;
      border-radius: 8px;
    }
    .macro-info .protein { color: #3498db; }
    .macro-info .karbohidrat { color: #e67e22; }
    .macro-info .lemak { color: #f1c40f; }

    .meal-section {
      background: #f7f7f7;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .meal-section h4 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      color: #444;
      border-bottom: 2px solid #ddd;
      padding-bottom: 5px;
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .meal-section ul {
      list-style-type: none;
      padding: 0;
    }
    .meal-section li {
      margin-bottom: 5px;
    }
    .meal-section .food-item {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px dashed #eee;
      padding: 5px 0;
    }
    .meal-section .food-item:last-child {
      border-bottom: none;
    }
    .meal-section .food-item span {
      font-weight: 500;
    }
    .meal-section .food-item small {
      color: #666;
    }
    
    .content-wrapper {
      margin-top: 20px;
    }

    /* === Akhir Tambahan Style === */

    /* === Style untuk Kalkulator Sehat === */
    .calculator-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    .card-inner {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .card-inner h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      margin-top: 0;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #333;
    }
    .card-inner h3 i {
        color: #ff9800;
    }
    /* === Akhir Style untuk Kalkulator Sehat === */

    /* === Style untuk Gaya Hidup === */
    .lifestyle-section {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .lifestyle-section-header {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: 'Poppins', sans-serif;
        font-size: 1.1rem;
        color: #333;
        cursor: pointer;
        user-select: none;
    }

    .lifestyle-section-header i {
        color: #ff9800;
        transition: transform 0.3s ease;
    }

    .lifestyle-section-header.active i {
        transform: rotate(90deg);
    }

    .lifestyle-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-out;
        padding: 0 10px;
        line-height: 1.6;
    }

    .lifestyle-content.active {
        max-height: 1000px; /* cukup besar untuk konten */
        padding: 15px 10px;
    }
    
    .lifestyle-content h4 {
        font-size: 1rem;
        font-weight: 500;
        color: #555;
        margin: 10px 0 5px;
    }
    
    .lifestyle-content ul {
        margin: 0;
        padding-left: 20px;
        list-style-type: disc;
    }
    
    .lifestyle-content ul li {
        margin-bottom: 5px;
    }
    
    .lifestyle-content ol {
      margin: 10px 0;
      padding-left: 20px;
    }
    /* === Akhir Style untuk Gaya Hidup === */
  </style>
</head>
<body>
  <header>
    <h1><i class="fas fa-apple-alt"></i> NutriFit</h1>
    <p></p>
  </header>
<div class="card active" id="home">
  <h2 style="
    font-size: 1.8rem; 
    color: #ff9800; 
    border-bottom: 3px solid rgba(255, 152, 0, 0.5); 
    padding-bottom: 10px; 
    margin-bottom: 15px;
    text-align: center;
    font-family: 'Poppins', sans-serif;
  ">
    <i class="fas fa-home-alt" style="margin-right: 10px; animation: pulse 1.5s infinite;"></i> Home
  </h2>
  
  <p style="text-align: center; font-style: italic; color: #555; margin-bottom: 25px;">
    "Nutrisi yang bikin kamu Fit!"
  </p>

  <div style="margin-bottom: 25px;">
    <h3 class="content-sub-title" style="margin-top: 0; justify-content: center; font-size: 1.1rem; color: #333;">
        <i class="fas fa-magic" style="color: #65C7F7;"></i> Mengungkap Makna NutriFit
    </h3>
    <div style="display: flex; gap: 10px; justify-content: space-around; flex-wrap: wrap;">
      
      <div style="
        flex: 1; min-width: 120px; 
        background: rgba(255, 255, 255, 0.9); 
        padding: 15px; 
        border-radius: 12px; 
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #ff9800;
        text-align: center;
      ">
        <i class="fas fa-seedling" style="color: #16a34a; font-size: 1.8rem; margin-bottom: 5px;"></i>
        <h4 style="margin: 0; font-family: 'Poppins', sans-serif; font-size: 1.1rem; color: #ff9800;">Nutri</h4>
        <small style="display: block; color: #555;">(Nutrisi)</small>
        <p style="margin: 5px 0 0; font-size: 0.85rem;">Fokus pada gizi dan pola makan seimbang.</p>
      </div>

      <div style="
        flex: 1; min-width: 120px; 
        background: rgba(255, 255, 255, 0.9); 
        padding: 15px; 
        border-radius: 12px; 
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        border-left: 5px solid #3498db;
        text-align: center;
      ">
        <i class="fas fa-running" style="color: #3498db; font-size: 1.8rem; margin-bottom: 5px;"></i>
        <h4 style="margin: 0; font-family: 'Poppins', sans-serif; font-size: 1.1rem; color: #3498db;">Fit</h4>
        <small style="display: block; color: #555;">(Fitness)</small>
        <p style="margin: 5px 0 0; font-size: 0.85rem;">Fokus pada tujuan: Tubuh yang sehat, bugar, dan ideal.</p>
      </div>
    </div>
  </div>

  <hr class="section-divider">
  
  <h3 class="content-sub-title" style="color: #e67e22;"><i class="fas fa-rocket"></i> Siap Meluncur ke Hidup Sehat?</h3>
  <p style="line-height: 1.5; background: #fffbe6; padding: 12px; border-radius: 8px; border: 1px dashed #ff9800;">
    💬 Pernah bingung berapa kalori yang kamu butuhkan setiap hari? Atau ingin tahu rekomendasi menu sehat yang tetap enak?
Tenang, NutriFit punya solusinya! Aplikasi ini dirancang untuk membuat perjalananmu menuju gaya hidup seimbang menjadi mudah, akurat, dan menyenangkan!
  </p>
  <h3 class="content-sub-title"><i class="fas fa-star" style="color: #ff9800;"></i> Fitur Andalan NutriFit:</h3>
  <ul style="list-style: none; padding-left: 0; margin-top: 15px;">
    
    <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #ff9800;">
        <b style="color: #ff9800;"><i class="fas fa-calculator"></i> 1. Kalkulator Sehat</b>
        <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Menghitung IMT (Indeks Massa Tubuh) dan kebutuhan kalori harian Anda secara cepat dan akurat.</p>
    </li>
    
    <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #3498db;">
        <b style="color: #3498db;"><i class="fas fa-utensils"></i> 2. Menu</b>
        <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Mengetahui informasi sumber kalori makanan dan mendapatkan rekomendasi menu sehat selama 7 hari penuh.</p>
    </li>
    
    <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #2ecc71;">
        <b style="color: #2ecc71;"><i class="fas fa-heartbeat"></i> 3. Gaya Hidup</b>
        <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Mendapatkan tips dan panduan penting tentang cara menerapkan gaya hidup sehat untuk hasil yang berkelanjutan.</p>
    </li>
  </ul>

  <p style="
    text-align: center; 
    margin-top: 25px; 
    font-weight: bold; 
    color: #0052D4; 
    font-size: 1rem;
    padding: 10px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.7);
  ">
    Tekan tombol di bawah untuk memulai! 🚀
  </p>

 </div>

<style>
/* ... (Style yang sudah ada) ... */

    /* Animasi Baru untuk Icon Judul */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); color: #ffa751; }
      100% { transform: scale(1); }
    }
    
    /* Style untuk daftar fitur (opsional, bisa diabaikan karena sudah pakai inline) */
    .feature-item i {
        margin-right: 5px;
    }
</style>


</div>

<style>
/* ... (Style yang sudah ada) ... */

    /* Animasi Baru untuk Icon Judul */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); color: #ffa751; }
      100% { transform: scale(1); }
    }
    
    /* Style untuk daftar fitur (opsional, bisa diabaikan karena sudah pakai inline) */
    .feature-item i {
        margin-right: 5px;
    }
</style>

  <div class="card" id="kalkulatorSehat">
    <h2><i class="fas fa-calculator"></i> Kalkulator Sehat</h2>
    <div class="calculator-container">
        <div class="card-inner">
            <h3><i class="fas fa-weight"></i> Menghitung IMT</h3>
            <p class="explanation">
                IMT (Indeks Massa Tubuh) adalah perbandingan berat dan tinggi badan Anda. 
                Masukkan data untuk melihat hasilnya.
            </p>
            <input type="number" id="berat" placeholder="Contoh: 60 (kg)">
            <input type="number" id="tinggi" placeholder="Contoh: 1.70 (m)">
            <button onclick="hitungIMT()">Lihat Hasil</button>
            <div class="result" id="hasilIMT"></div>
            <div class="info" id="petunjukIMT" style="display: none;"></div> 
            <div class="klasifikasi">
                <h3>Klasifikasi IMT menurut Kemenkes RI (2015)</h3>
                <ul>
                    <li>&lt; 17.0 : Kurus (Tingkat Berat)</li>
                    <li>17.0 – 18.4 : Kurus (Tingkat Ringan)</li>
                    <li>18.5 – 25.0 : Normal</li>
                    <li>25.1 – 27.0 : Gemuk (Tingkat Ringan)</li>
                    <li>&gt; 27.0 : Gemuk (Tingkat Berat)</li>
                </ul>
                <p><small>Catatan: Pengukuran IMT ini tidak dapat dilakukan pada orang hamil, binaragawan, edema, dan ascites.</small></p>
            </div>
        </div>
        
        <div class="card-inner">
            <h3><i class="fas fa-fire"></i> Menghitung Kalori</h3>
            <p class="explanation">
                BMR (Basal Metabolic Rate): Kalori minimal yang tubuh Anda butuhkan untuk berfungsi saat istirahat.
            </p>
            <p class="explanation">
                TDEE (Total Daily Energy Expenditure): Total kalori yang Anda butuhkan dalam melakukan aktivitas sehari-hari.
            </p>
            <input type="number" id="bb_kalori" placeholder="Berat Badan (kg), contoh: 60">
            <input type="number" id="tb_kalori" placeholder="Tinggi Badan (cm), contoh: 170">
            <input type="number" id="usia_kalori" placeholder="Usia (tahun), contoh: 25">
            <select id="gender_kalori">
                <option value="pria">Pria</option>
                <option value="wanita">Wanita</option>
            </select>
            <select id="aktivitas_kalori">
                <option value="1.2">Sedentari (jarang olahraga)</option>
                <option value="1.375">Aktivitas Ringan (olahraga 1-2 kali/minggu)</option>
                <option value="1.55">Aktivitas Sedang (olahraga 3-5 kali/minggu )</option>
                <option value="1.725">Aktivitas Berat (olahraga 6-7 kali/minggu)</option>
                <option value="1.9">Aktivitas Sangat Berat (olahraga intens 2x sehari)</option>
            </select>
            <button onclick="hitungKalori()">Lihat Hasil</button>
            <div class="result" id="hasilKalori"></div>
        </div>
    </div>
  </div>

  <div class="card" id="gayaHidup">
    <h2><i class="fas fa-heartbeat"></i> Gaya Hidup Sehat</h2>
    <div class="lifestyle-section" onclick="toggleLifestyle('gizi')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Panduan Gizi Seimbang</span>
      </div>
      <div class="lifestyle-content" id="gizi">
        <p>Dalam menyusun menu makanan sehat ini, ada sepuluh pedoman atau pesan gizi seimbang yang dapat diikuti, yaitu:</p>
        <ol>
          <li>Nikmati dan syukuri beragam makanan.</li>
          <li>Biasakan makan aneka ragam makanan pokok.</li>
          <li>Biasakan makan lauk pauk yang kaya protein.</li>
          <li>Banyak makan sayur dan buah-buahan.</li>
          <li>Batasi makanan asin, manis dan berlemak.</li>
          <li>Biasakan sarapan di pagi hari.</li>
          <li>Biasakan minum cukup air putih yang aman.</li>
          <li>Biasakan membaca label pada kemasan makanan.</li>
          <li>Lakukan aktivitas fisik secara rutin dan jaga berat badan ideal.</li>
          <li>Biasakan mencuci tangan dengan sabun dan air mengalir.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('air')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Minum Air yang Cukup</span>
      </div>
      <div class="lifestyle-content" id="air">
        <p>
          Kandungan air dalam tubuh manusia sekitar 2/3 atau sekitar 60%-70% dari berat tubuh. Kekurangan konsumsi air bisa membuat kita dehidrasi atau kekurangan cairan tubuh. Air Putih merupakan minuman yang paling sehat dan tidak berbahaya karena dibutuhkan oleh tubuh kita untuk menjaga kesehatan. Syarat-syarat air minum adalah tidak berasa, tidak berbau, tidak berwarna, tidak mengandung mikroorganisme yang berbahaya, dan tidak mengandung logam berat. Air minum adalah air yang melalui proses pengolahan ataupun tanpa proses pengolahan yang memenuhi syarat kesehatan dan dapat langsung di minum (Kepmenkes Nomor 907 Tahun 2002).
        </p>
        <h4>Manfaat minum air putih 8 gelas setiap hari:</h4>
        <ul>
          <li>Memelihara fungsi ginjal</li>
          <li>Mengurangi risiko kanker kandung kemih</li>
          <li>Memperlancar pencernaan</li>
          <li>Menjaga kesehatan kulit dan mengontrol kalori.</li>
        </ul>
        <h4>Tips memenuhi kebutuhan air putih setiap hari:</h4>
        <ol>
          <li>Minum air putih saat makan atau mengkonsumsi camilan.</li>
          <li>Sediakan gelas atau botol berisi air minum di meja atau tas yang Anda bawa saat beraktivitas.</li>
          <li>Tambahkan rasa pada air putih agar terasa lebih enak, seperti buah-buahan dalam infused water.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('aktivitas')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Aktivitas Fisik</span>
      </div>
      <div class="lifestyle-content" id="aktivitas">
        <p>
          <b>AKTIVITAS FISIK</b> adalah setiap gerakan tubuh yang diakibatkan kerja otot rangka dan meningkatkan pengeluaran tenaga atau energi. Dapat dilakukan di rumah, di tempat kerja, di tempat umum, termasuk aktivitas fisik lain yang dilakukan untuk mengisi waktu senggang sehari-hari.
        </p>
        <h4>Jenis-jenisnya:</h4>
        <p><b>CONTOH AKTIVITAS FISIK RINGAN</b></p>
        <ul>
          <li>Berjalan santai, bekerja dengan komputer, membaca, menulis, menyetir, mengoperasikan mesin dengan posisi duduk atau berdiri.</li>
          <li>Pekerjaan rumah tangga, seperti mencuci piring, menyetrika, memasak, menyapu, menjahit.</li>
          <li>Latihan peregangan dengan gerakan lambat, membuat prakarya, menggambar, melukis, bermain musik.</li>
        </ul>
        <p><b>CONTOH AKTIVITAS FISIK SEDANG</b></p>
        <ul>
          <li>Berjalan cepat pada permukaan rata, pekerjaan tukang kayu, membawa dan menyusun balok kayu.</li>
          <li>Memotong rumput dengan mesin, pekerjaan rumah seperti mengepel lantai, membersihkan rumah, memindahkan perabot ringan.</li>
          <li>Berkebun, menanam pohon, mencuci mobil.</li>
        </ul>
        <h4>Manfaat beraktivitas fisik secara rutin:</h4>
        <ol>
          <li>Meningkatkan keseimbangan, fleksibilitas, dan metabolisme tubuh.</li>
          <li>Meningkatkan kerja otot jantung dan paru.</li>
          <li>Memelihara kesehatan tulang, otot, dan sendi.</li>
          <li>Mencegah stress, serta mengurangi kecemasan dan depresi.</li>
          <li>Mengurangi risiko diabetes dan tekanan darah tinggi.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('beratBadan')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Menjaga Berat Badan Ideal</span>
      </div>
      <div class="lifestyle-content" id="beratBadan">
        <p>
          Pantau indeks massa tubuh Anda setiap bulan. Kelebihan berat badan atau tubuh yang terlalu kurus bisa menjadi indikator penurunan kesehatan, yang membuat Anda lebih rentan terhadap berbagai penyakit.
        </p>
        <h4>Pola makan</h4>
        <p>
          Pola makan mencakup jumlah, jenis, jadwal makan, dan pengolahan bahan makanan. Jenis makanan pada piramida gizi seimbang terdiri dari kelompok karbohidrat, sayur dan buah, protein dan minyak, gula, garam.
        </p>
        <p>
          <b>Anjuran konsumsi gula, garam dan lemak:</b> 4 sendok makan gula, 1 sendok teh garam dan 5 sendok makan minyak.
        </p>
        <h4>Teknik pengolahan</h4>
        <p>
          Yang dianjurkan adalah dengan cara dikukus, rebus, dan tumis dengan menggunakan minyak sedikit serta tanpa penambahan gula yang berlebihan.
        </p>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('cuciTangan')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>6 Langkah Cuci Tangan</span>
      </div>
      <div class="lifestyle-content" id="cuciTangan">
        <ol>
          <li>Tuangkan sabun pada tangan yang telah dibasahi. Kemudian gosok dan usap kedua telapak tangan dengan arah memutar.</li>
          <li>Jangan lupa menggosok kedua punggung tangan secara bergantian.</li>
          <li>Bersihkan sela-sela jari tangan dengan menggosok.</li>
          <li>Kunci ujung jari kedua tangan untuk membersihkan.</li>
          <li>Bersihkan kedua ibu jari dengan menggosok dan memutar secara bergantian.</li>
          <li>Letakkan ujung jari di atas telapak tangan, lalu gosok perlahan. Bilas kedua telapak tangan dan keringkan.</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="card" id="sumberKalori">
    <h2><i class="fas fa-carrot"></i> Sumber Kalori & Menu</h2>
    
    <div class="content-wrapper">
      <h3 class="content-sub-title"><i class="fas fa-search"></i> Sumber Kalori Makanan</h3>
      <p>Cari tahu kandungan kalori dari berbagai jenis makanan di sini.</p>
      <div class="toggle-button-container">
        <button id="toggleKaloriBtn" class="toggle-button" onclick="toggleVisibility('source-kalori-wrapper', 'toggleKaloriBtn')">Lihat Sumber Kalori</button>
      </div>

      <div class="source-kalori-wrapper" id="source-kalori-wrapper">
        <div class="nav-tabs">
          <button class="tab-button" onclick="showSource('karbohidrat')">Karbohidrat</button>
          <button class="tab-button" onclick="showSource('protein')">Protein</button>
          <button class="tab-button" onclick="showSource('lemak')">Lemak</button>
          <button class="tab-button" onclick="showSource('buah')">Buah-buahan</button>
          <button class="tab-button" onclick="showSource('sayur')">Sayur-sayuran</button>
        </div>
        <div id="content-karbohidrat" class="content-table"></div>
        <div id="content-protein" class="content-table"></div>
        <div id="content-lemak" class="content-table"></div>
        <div id="content-buah" class="content-table"></div>
        <div id="content-sayur" class="content-table"></div>
      </div>
    </div>
    
    <hr class="section-divider">

    <div class="content-wrapper">
      <h3 class="content-sub-title"><i class="fas fa-utensils"></i> Contoh Menu Sehat</h3>
      <p>Mau inspirasi menu sehat untuk satu minggu? Klik tombol di bawah ini!</p>
      <div class="toggle-button-container">
        <button id="toggleMenuBtn" class="toggle-button" onclick="toggleVisibility('menu-container', 'toggleMenuBtn')">Lihat Contoh Menu 7 Hari</button>
      </div>
      
      <div id="menu-container">
        <div class="menu-day-nav nav-tabs">
            <button class="tab-button active" onclick="showMenu(1)">Hari 1</button>
            <button class="tab-button" onclick="showMenu(2)">Hari 2</button>
            <button class="tab-button" onclick="showMenu(3)">Hari 3</button>
            <button class="tab-button" onclick="showMenu(4)">Hari 4</button>
            <button class="tab-button" onclick="showMenu(5)">Hari 5</button>
            <button class="tab-button" onclick="showMenu(6)">Hari 6</button>
            <button class="tab-button" onclick="showMenu(7)">Hari 7</button>
        </div>
        <div id="menu-content-display"></div>
      </div>
    </div>
  </div>
  <div class="card" id="tentang">
    <h2><i class="fas fa-info-circle"></i> Tentang</h2>
    <p>Aplikasi <b>NutriFit</b> dibuat untuk membantu masyarakat memahami kebutuhan gizi dengan mudah, praktis, dan menyenangkan.</p>
  </div>

  <div class="navbar">
    <a data-target="home" class="active"><i class="fas fa-home"></i>Home</a>
    <a data-target="kalkulatorSehat"><i class="fas fa-calculator"></i>Kalkulator Sehat</a>
    <a data-target="sumberKalori"><i class="fas fa-carrot"></i>Menu</a>
    <a data-target="gayaHidup"><i class="fas fa-heartbeat"></i>Gaya Hidup</a>
    <a data-target="tentang"><i class="fas fa-info-circle"></i>Tentang</a>
  </div>

  <script>
    function hitungIMT() {
      let bb = parseFloat(document.getElementById('berat').value);
      let tb = parseFloat(document.getElementById('tinggi').value);
      let hasil = document.getElementById('hasilIMT');
      let petunjuk = document.getElementById('petunjukIMT');
      
      hasil.className = "result"; // reset class
      petunjuk.style.display = 'none'; // sembunyikan petunjuk
      petunjuk.innerHTML = ''; // reset isi petunjuk

      if (isNaN(bb) || isNaN(tb) || tb <= 0) {
        hasil.innerHTML = "⚠️ Masukkan data dengan benar!";
        hasil.classList.add("show", "warning");
        return;
      }
      
      // Tinggi badan dalam meter kuadrat
      const tb2 = tb * tb;
      let imt = bb / tb2;
      let status = "";
      let kelas = "";
      let petunjukHTML = "";

      // Konstanta batas IMT
      const IMT_KURUS_RINGAN_MAX = 18.4;
      const IMT_NORMAL_MIN = 18.5;
      const IMT_NORMAL_MAX = 25.0;
      const IMT_GEMUK_RINGAN_MAX = 27.0;

      // 1. Tentukan Status IMT
      if (imt < 17.0) { status = "Kurus (Tingkat Berat)"; kelas = "warning"; }
      else if (imt <= IMT_KURUS_RINGAN_MAX) { status = "Kurus (Tingkat Ringan)"; kelas = "warning"; }
      else if (imt <= IMT_NORMAL_MAX) { status = "Normal"; kelas = "normal"; }
      else if (imt <= IMT_GEMUK_RINGAN_MAX) { status = "Gemuk (Tingkat Ringan)"; kelas = "warning"; }
      else { status = "Gemuk (Tingkat Berat)"; kelas = "warning"; }

      // 2. Tentukan Petunjuk/Warning BB Spesifik
      
      if (status === "Normal") {
          // Perhitungan BB ideal/batas untuk Normal
          const bbMinNormal = (IMT_NORMAL_MIN * tb2).toFixed(1); // BB di IMT 18.5
          const bbMaxNormal = (IMT_NORMAL_MAX * tb2).toFixed(1); // BB di IMT 25.0
          
          // Perhitungan batas naik/turun BB
          const bbBatasturun = (17.0 * tb2).toFixed(1); // BB di IMT 17.0 (Kurus Berat)
          const bbBatasNaikRingan = (IMT_GEMUK_RINGAN_MAX * tb2).toFixed(1); // BB di IMT 27.0 (Gemuk Ringan MAX)
          const bbBatasNaikBerat = (27.1 * tb2).toFixed(1); // BB di IMT > 27.0 (Gemuk Berat MIN)
          
          petunjukHTML = `
            <p><strong><i class="fas fa-check-circle"></i> Selamat, Indeks Massa Tubuh Anda Normal!</strong></p>
            <p>Untuk menjaga status ini, rentang berat badan ideal Anda adalah antara <b>${bbMinNormal} kg</b> hingga <b>${bbMaxNormal} kg</b>.</p>
            <ul>
                <li>⚠️ <b>Peringatan:</b> Jika berat badan Anda mencapai <b>${bbBatasNaikBerat} kg</b>, Anda akan masuk kategori Gemuk Berat.</li>
                <li><i class="fas fa-exclamation-triangle"></i> Jika berat badan Anda turun di bawah <b>${bbBatasturun} kg</b>, Anda akan masuk kategori Kurus Berat.</li>
            </ul>
          `;
      } else if (status.includes("Kurus")) {
          // Perhitungan BB untuk mencapai Normal
          const bbButuhNormal = (IMT_NORMAL_MIN * tb2).toFixed(1);
          const bbNaik = (bbButuhNormal - bb).toFixed(1);

          if (status === "Kurus (Tingkat Ringan)") {
             const bbBatasTurun = (17.0 * tb2).toFixed(1);
             petunjukHTML = `
                <p><strong><i class="fas fa-plus-circle"></i> Petunjuk:</strong> Anda perlu menaikkan berat badan minimal <b>${bbNaik} kg</b> untuk mencapai IMT Normal (minimal <b>${bbButuhNormal} kg</b>).</p>
                <p>⚠️ <b>Peringatan:</b> Jika BB Anda turun hingga <b>${bbBatasTurun} kg</b>, Anda akan masuk kategori Kurus Berat.</p>
             `;
          } else { // Kurus Tingkat Berat
              petunjukHTML = `
                <p><strong><i class="fas fa-plus-circle"></i> Petunjuk:</strong> Anda perlu menaikkan berat badan minimal <b>${bbNaik} kg</b> untuk mencapai IMT Normal (minimal <b>${bbButuhNormal} kg</b>).</p>
                <p>🚨 SARAN DOKTER: Status gizi ini memerlukan perhatian serius. Segera konsultasikan dengan profesional kesehatan.</p>
             `;
          }
      } else { // Gemuk Ringan atau Gemuk Berat
          // Perhitungan BB untuk mencapai Normal
          const bbMaksNormal = (IMT_NORMAL_MAX * tb2).toFixed(1);
          const bbTurunNormal = (bb - bbMaksNormal).toFixed(1);
          
          // Perhitungan BB untuk mencapai Gemuk Ringan (jika saat ini Gemuk Berat)
          const bbMaksGemukRingan = (IMT_GEMUK_RINGAN_MAX * tb2).toFixed(1);
          const bbTurunGemukRingan = (bb - bbMaksGemukRingan).toFixed(1);

          if (status === "Gemuk (Tingkat Ringan)") {
             petunjukHTML = `
                <p><strong><i class="fas fa-minus-circle"></i> Petunjuk:</strong> Untuk mencapai IMT Normal (maksimal <b>${bbMaksNormal} kg</b>), Anda perlu menurunkan berat badan minimal <b>${bbTurunNormal} kg</b>.</p>
                <p>Lakukan diet kalori terkontrol dan olahraga teratur.</p>
             `;
          } else { // Gemuk Tingkat Berat
              petunjukHTML = `
                <p><strong><i class="fas fa-minus-circle"></i> Petunjuk:</strong> Anda berada di kategori risiko tinggi.</p>
                <p>Minimal, turunkan berat badan <b>${bbTurunGemukRingan} kg</b> untuk masuk kategori Gemuk Ringan (maksimal <b>${bbMaksGemukRingan} kg</b>).</p>
                <p>Idealnya, turunkan <b>${bbTurunNormal} kg</b> untuk mencapai IMT Normal (maksimal <b>${bbMaksNormal} kg</b>).</p>
                <p>🚨 SARAN DOKTER: Status gizi ini sangat disarankan untuk dikonsultasikan dengan dokter/ahli gizi.</p>
             `;
          }
      }

      // 3. Tampilkan Hasil dan Petunjuk
      hasil.innerHTML = `IMT Anda: <b>${imt.toFixed(2)}</b><br>Status: <b>${status}</b>`;
      hasil.classList.add("show", kelas);
      
      petunjuk.innerHTML = petunjukHTML;
      petunjuk.style.display = 'block';
    }
    
    // Fungsi hitungKalori() dan fungsi-fungsi lainnya dipertahankan sama
    // ...
    
    // Fungsi baru untuk menghitung Kalori
    function hitungKalori() {
        let bb = parseFloat(document.getElementById('bb_kalori').value);
        let tb = parseFloat(document.getElementById('tb_kalori').value);
        let usia = parseInt(document.getElementById('usia_kalori').value);
        let gender = document.getElementById('gender_kalori').value;
        let aktivitas = parseFloat(document.getElementById('aktivitas_kalori').value);

        let hasil = document.getElementById('hasilKalori');
        hasil.className = "result"; // reset class

        if (isNaN(bb) || isNaN(tb) || isNaN(usia) || bb <= 0 || tb <= 0 || usia <= 0) {
            hasil.innerHTML = "⚠️ Masukkan semua data dengan benar!";
            hasil.classList.add("show", "warning");
            return;
        }

        let bmr;
        if (gender === 'pria') {
            bmr = (10 * bb) + (6.25 * tb) - (5 * usia) + 5;
        } else {
            bmr = (10 * bb) + (6.25 * tb) - (5 * usia) - 161;
        }

        let tdee = bmr * aktivitas;

        hasil.innerHTML = `
            <h3>Hasil Kebutuhan Kalori Harian Anda</h3>
            <div class="result-container">
                <div class="result-card">
                    <h4>BMR</h4>
                    <span class="result-value bmr-value">${bmr.toFixed(0)}<small> kkal</small></span>
                </div>
                <div class="result-card">
                    <h4>TDEE</h4>
                    <span class="result-value tdee-value">${tdee.toFixed(0)}<small> kkal</small></span>
                </div>
            </div>
            
            <div class="suggestion">
                <h4><b>Sesuaikan dengan Tujuan Anda:</b></h4>
                <ul>
                    <li>Untuk menurunkan berat badan: Konsumsi kalori lebih sedikit dari TDEE Anda.</li>
                    <li>Untuk menaikkan berat badan: Konsumsi kalori lebih banyak dari TDEE Anda.</li>
                    <li>Untuk mempertahankan berat badan: Konsumsi kalori sesuai dengan TDEE Anda.</li>
                </ul>
            </div>
        `;
        hasil.classList.add("show", "normal");
    }

    // === Fungsi dan Data Baru untuk Sumber Kalori ===
    const dataKalori = {
        karbohidrat: [
            { nama: "Nasi putih matang", kalori: "180 kkal" },
            { nama: "Nasi ketan putih matang", kalori: "207 kkal" },
            { nama: "Bubur nasi putih", kalori: "44 kkal" },
            { nama: "Beras giling mentah", kalori: "357 kkal" },
            { nama: "Beras hitam mentah", kalori: "351 kkal" },
            { nama: "Beras ketan putih mentah", kalori: "361 kkal" },
            { nama: "Jagung kuning pipilan kering", kalori: "358 kkal" },
            { nama: "Jagung putih pipilan kering", kalori: "307 kkal" },
            { nama: "Jagung manis rebus", kalori: "90 kkal" },
            { nama: "Singkong rebus", kalori: "146 kkal" },
            { nama: "Ubi jalar kuning rebus", kalori: "123 kkal" },
            { nama: "Ubi jalar ungu rebus", kalori: "109 kkal" },
            { nama: "Talas rebus", kalori: "98 kkal" },
            { nama: "Kentang rebus", kalori: "86 kkal" },
            { nama: "Sagu kering", kalori: "353 kkal" },
            { nama: "Tepung terigu", kalori: "339 kkal" },
            { nama: "Roti tawar putih", kalori: "248 kkal" },
            { nama: "Mi instan kering", kalori: "436 kkal" },
            { nama: "Bihun kering", kalori: "351 kkal" },
            { nama: "Kraker (whole wheat)", kalori: "400 kkal" }
        ],
        protein: [
            { nama: "Kacang kedelai kering", kalori: "381 kkal" },
            { nama: "Kacang hijau kering", kalori: "323 kkal" },
            { nama: "Kacang merah kering", kalori: "314 kkal" },
            { nama: "Kacang tanah kering", kalori: "525 kkal" },
            { nama: "Tempe kedelai", kalori: "193 kkal" },
            { nama: "Tahu putih", kalori: "80 kkal" },
            { nama: "Tahu kuning", kalori: "115 kkal" },
            { nama: "Susu bubuk full cream", kalori: "496 kkal" },
            { nama: "Susu sapi cair segar", kalori: "61 kkal" },
            { nama: "Telur ayam kampung", kalori: "162 kkal" },
            { nama: "Telur ayam ras", kalori: "154 kkal" },
            { nama: "Daging sapi has luar", kalori: "207 kkal" },
            { nama: "Daging sapi sandung lamur", kalori: "218 kkal" },
            { nama: "Daging ayam broiler tanpa kulit", kalori: "298 kkal" },
            { nama: "Daging ayam kampung", kalori: "220 kkal" },
            { nama: "Daging kambing", kalori: "154 kkal" },
            { nama: "Ikan lele segar", kalori: "96 kkal" },
            { nama: "Ikan tongkol", kalori: "109 kkal" },
            { nama: "Ikan tuna", kalori: "107 kkal" },
            { nama: "Udang segar", kalori: "91 kkal" }
        ],
        lemak: [
            { nama: "Kacang mete kering", kalori: "616 kkal" },
            { nama: "Kenari banda kering", kalori: "616 kkal" },
            { nama: "Kacang tanah kering", kalori: "525 kkal" },
            { nama: "Biji wijen kering", kalori: "568 kkal" },
            { nama: "Biji bunga matahari kering", kalori: "584 kkal" },
            { nama: "Biji labu kering", kalori: "559 kkal" },
            { nama: "Kelapa tua segar", kalori: "359 kkal" },
            { nama: "Santan murni", kalori: "324 kkal" },
            { nama: "Minyak kelapa", kalori: "862 kkal" },
            { nama: "Minyak sawit", kalori: "884 kkal" },
            { nama: "Minyak kedelai", kalori: "884 kkal" },
            { nama: "Minyak jagung", kalori: "884 kkal" },
            { nama: "Minyak wijen", kalori: "884 kkal" },
            { nama: "Margarin", kalori: "720 kkal" },
            { nama: "Mentega", kalori: "717 kkal" },
            { nama: "Susu kental manis", kalori: "330 kkal" },
            { nama: "Keju cheddar", kalori: "402 kkal" },
            { nama: "Krim kental", kalori: "340 kkal" },
            { nama: "Daging babi berlemak", kalori: "393 kkal" },
            { nama: "Ikan tenggiri asin (kering)", kalori: "321 kkal" }
        ],
        // Database buah-buahan dan sayur-sayuran tetap sama karena tidak ada perubahan yang diminta
        buah: [
            { nama: "Pisang", kalori: "89 kkal (per 100g)" },
            { nama: "Pepaya", kalori: "39 kkal (per 100g)" },
            { nama: "Belimbing", kalori: "31 kkal (per 100g)" },
            { nama: "Apel", kalori: "72 kkal (per 1 sedang)" },
            { nama: "Mangga", kalori: "65 kkal (per 100g)" },
            { nama: "Duku", kalori: "68 kkal (per 100g)" },
            { nama: "Salak", kalori: "8 kkal (per 1 buah)" },
            { nama: "Rambutan", kalori: "7 kkal (per 1 buah)" },
            { nama: "Jeruk", kalori: "62 kkal (per 1 buah)" },
            { nama: "Jambu air", kalori: "46 kkal (per 100g)" },
            { nama: "Semangka", kalori: "30 kkal (per 100g)" },
            { nama: "Melon", kalori: "34 kkal (per 100g)" }
        ],
        sayur: [
            { nama: "Terong", kalori: "97 kkal (per 100g)" },
            { nama: "Ketimun", kalori: "12 kkal (per 100g)" },
            { nama: "Selada air", kalori: "11 kkal (per 100g)" },
            { nama: "Labu siam", kalori: "24 kkal (per 100g)" },
            { nama: "Rebung", kalori: "63 kkal (per 100g)" },
            { nama: "Kangkung", kalori: "98 kkal (per 100g)" },
            { nama: "Lobak", kalori: "42 kkal (per 100g)" },
            { nama: "Kembang kol", kalori: "25 kkal (per 100g)" },
            { nama: "Buncis", kalori: "31 kkal (per 100g)" },
            { nama: "Brokoli", kalori: "54 kkal (per 100g)" },
            { nama: "Daun singkong", kalori: "38 kkal (per 100g)" },
            { nama: "Kol", kalori: "69 kkal (per 100g)" },
            { nama: "Wortel", kalori: "41 kkal (per 100g)" },
            { nama: "Tomat", kalori: "18 kkal (per 100g)" },
            { nama: "Pare", kalori: "46 kkal (per 100g)" },
            { nama: "Bayam", kalori: "40 kkal (per 100g)" }
        ]
    };

    function createTable(data, type) {
        let headerText = "";
        if (type === "karbohidrat" || type === "protein" || type === "lemak") {
            headerText = "per 100 gram";
        }
      
        let tableHTML = `
            <table>
                <thead>
                    <tr>
                        <th>Sumber Makanan</th>
                        <th>Kalori ${headerText}</th>
                    </tr>
                </thead>
                <tbody>
        `;
        data.forEach(item => {
            tableHTML += `
                <tr>
                    <td>${item.nama}</td>
                    <td>${item.kalori}</td>
                </tr>
            `;
        });
        tableHTML += `
                </tbody>
            </table>
        `;
        return tableHTML;
    }

    function showSource(source) {
        const allTables = document.querySelectorAll('.content-table');
        allTables.forEach(table => table.classList.remove('active'));
        const allButtons = document.querySelectorAll('.nav-tabs .tab-button');
        allButtons.forEach(button => button.classList.remove('active'));

        const targetContent = document.getElementById(`content-${source}`);
        targetContent.classList.add('active');
        document.querySelector(`.nav-tabs .tab-button[onclick="showSource('${source}')"]`).classList.add('active');
        targetContent.innerHTML = createTable(dataKalori[source], source);
    }
    // === Akhir Fungsi dan Data Baru untuk Sumber Kalori ===

    // === Fungsi dan Data Baru untuk Menu Makanan ===
    const menu7Hari = {
        "1": {
            total: { kalori: 2080, P: 101, K: 272, L: 49 },
            sarapan: [
                { nama: "Oatmeal (50 g)", kalori: "190 kkal", P: 7, K: 33, L: 4 },
                { nama: "Susu rendah lemak (250 ml)", kalori: "125 kkal", P: 8, K: 12, L: 3 },
                { nama: "Pisang (120 g)", kalori: "105 kkal", P: 1, K: 27, L: 0 },
                { nama: "Telur rebus (1 butir)", kalori: "70 kkal", P: 6, K: 0, L: 5 }
            ],
            snack_pagi: [
                { nama: "Apel (200 g)", kalori: "110 kkal", P: 0, K: 29, L: 0 },
                { nama: "Yoghurt plain (150 g)", kalori: "90 kkal", P: 5, K: 12, L: 2 }
            ],
            makan_siang: [
                { nama: "Nasi merah (200 g)", kalori: "220 kkal", P: 5, K: 45, L: 1 },
                { nama: "Ayam panggang (120 g)", kalori: "200 kkal", P: 36, K: 0, L: 5 },
                { nama: "Tumis brokoli+wortel (150 g + 1 sdm minyak)", kalori: "120 kkal", P: 4, K: 14, L: 6 },
                { nama: "Pepaya (150 g)", kalori: "60 kkal", P: 1, K: 15, L: 0 }
            ],
            snack_sore: [
                { nama: "Kacang tanah sangrai (30 g)", kalori: "170 kkal", P: 7, K: 6, L: 14 }
            ],
            makan_malam: [
                { nama: "Ubi kukus (200 g)", kalori: "180 kkal", P: 3, K: 42, L: 0 },
                { nama: "Tempe bacem (100 g)", kalori: "180 kkal", P: 14, K: 12, L: 9 },
                { nama: "Sayur bening bayam (150 g)", kalori: "50 kkal", P: 2, K: 10, L: 0 },
                { nama: "Jeruk (200 g)", kalori: "150 kkal", P: 3, K: 35, L: 0 }
            ]
        },
        "2": {
            total: { kalori: 2010, P: 92, K: 276, L: 54 },
            sarapan: [
                { nama: "Roti gandum (70 g)", kalori: "190 kkal", P: 8, K: 34, L: 2 },
                { nama: "Selai kacang (20 g)", kalori: "120 kkal", P: 5, K: 6, L: 10 },
                { nama: "Susu kedelai (250 ml)", kalori: "90 kkal", P: 7, K: 8, L: 3 }
            ],
            snack_pagi: [
                { nama: "Buah naga (200 g)", kalori: "100 kkal", P: 2, K: 26, L: 0 }
            ],
            makan_siang: [
                { nama: "Nasi putih (200 g)", kalori: "260 kkal", P: 6, K: 58, L: 0 },
                { nama: "Ikan kembung bakar (100 g)", kalori: "190 kkal", P: 22, K: 0, L: 11 },
                { nama: "Sayur asem (150 g)", kalori: "90 kkal", P: 3, K: 16, L: 2 },
                { nama: "Lalapan timun+tomat (100 g)", kalori: "30 kkal", P: 1, K: 7, L: 0 },
                { nama: "Minyak tumis (1 sdm)", kalori: "70 kkal", P: 0, K: 0, L: 8 }
            ],
            snack_sore: [
                { nama: "Edamame rebus (100 g)", kalori: "120 kkal", P: 11, K: 9, L: 5 }
            ],
            makan_malam: [
                { nama: "Kentang rebus (200 g)", kalori: "150 kkal", P: 4, K: 35, L: 0 },
                { nama: "Tahu kukus (120 g)", kalori: "100 kkal", P: 10, K: 4, L: 5 },
                { nama: "Capcay sayur (150 g + 1 sdm minyak)", kalori: "150 kkal", P: 5, K: 18, L: 8 },
                { nama: "Semangka (200 g)", kalori: "80 kkal", P: 2, K: 20, L: 0 },
                { nama: "Telur rebus (1 butir)", kalori: "70 kkal", P: 6, K: 0, L: 5 }
            ]
        },
        "3": {
            total: { kalori: 1940, P: 88, K: 271, L: 49 },
            sarapan: [
                { nama: "Smoothie (pisang 100 g + bayam 30 g + susu almond 250 ml)", kalori: "170 kkal", P: 5, K: 30, L: 3 },
                { nama: "Telur dadar (2 butir, pakai 1 sdt minyak)", kalori: "150 kkal", P: 12, K: 0, L: 11 }
            ],
            snack_pagi: [
                { nama: "Pir (150 g)", kalori: "90 kkal", P: 0, K: 25, L: 0 }
            ],
            makan_siang: [
                { nama: "Nasi merah (200 g)", kalori: "220 kkal", P: 5, K: 45, L: 1 },
                { nama: "Daging sapi tanpa lemak rebus (100 g)", kalori: "250 kkal", P: 27, K: 0, L: 16 },
                { nama: "Tumis kangkung (150 g + 1 sdm minyak)", kalori: "110 kkal", P: 4, K: 12, L: 6 },
                { nama: "Pepaya (150 g)", kalori: "60 kkal", P: 1, K: 15, L: 0 }
            ],
            snack_sore: [
                { nama: "Jagung rebus (100 g)", kalori: "90 kkal", P: 3, K: 20, L: 1 }
            ],
            makan_malam: [
                { nama: "Singkong kukus (200 g)", kalori: "210 kkal", P: 3, K: 50, L: 0 },
                { nama: "Ikan nila panggang (120 g)", kalori: "180 kkal", P: 22, K: 0, L: 9 },
                { nama: "Sayur lodeh ringan (200 g)", kalori: "160 kkal", P: 5, K: 20, L: 6 },
                { nama: "Melon (200 g)", kalori: "60 kkal", P: 1, K: 15, L: 0 },
                { nama: "Tempe goreng (100 g)", kalori: "220 kkal", P: 12, K: 12, L: 14 }
            ]
        },
        "4": {
            total: { kalori: 1970, P: 87, K: 268, L: 55 },
            sarapan: [
                { nama: "Bubur kacang hijau tanpa santan (200 g)", kalori: "180 kkal", P: 9, K: 30, L: 2 },
                { nama: "Pisang (100 g)", kalori: "90 kkal", P: 1, K: 23, L: 0 }
            ],
            snack_pagi: [
                { nama: "Anggur (100 g)", kalori: "70 kkal", P: 1, K: 18, L: 0 }
            ],
            makan_siang: [
                { nama: "Nasi putih (200 g)", kalori: "260 kkal", P: 6, K: 58, L: 0 },
                { nama: "Ayam rebus (120 g)", kalori: "170 kkal", P: 34, K: 0, L: 4 },
                { nama: "Sayur sop (200 g)", kalori: "120 kkal", P: 5, K: 18, L: 3 },
                { nama: "Lalapan selada (50 g)", kalori: "10 kkal", P: 0, K: 2, L: 0 },
                { nama: "Minyak tumis (1 sdm)", kalori: "70 kkal", P: 0, K: 0, L: 8 }
            ],
            snack_sore: [
                { nama: "Almond panggang (20 g)", kalori: "120 kkal", P: 4, K: 5, L: 10 }
            ],
            makan_malam: [
                { nama: "Ubi ungu kukus (200 g)", kalori: "180 kkal", P: 3, K: 42, L: 0 },
                { nama: "Tempe goreng (100 g)", kalori: "220 kkal", P: 12, K: 12, L: 14 },
                { nama: "Tumis pare + jagung muda (150 g + 1 sdm minyak)", kalori: "140 kkal", P: 4, K: 18, L: 7 },
                { nama: "Jeruk (200 g)", kalori: "150 kkal", P: 3, K: 35, L: 0 },
                { nama: "Ikan tongkol (100 g)", kalori: "160 kkal", P: 20, K: 0, L: 8 }
            ]
        },
        "5": {
            total: { kalori: 2020, P: 94, K: 278, L: 56 },
            sarapan: [
                { nama: "Roti gandum (70 g)", kalori: "190 kkal", P: 8, K: 34, L: 2 },
                { nama: "Telur mata sapi (1 butir)", kalori: "90 kkal", P: 6, K: 0, L: 7 },
                { nama: "Susu rendah lemak (200 ml)", kalori: "100 kkal", P: 7, K: 10, L: 3 }
            ],
            snack_pagi: [
                { nama: "Pepaya (200 g)", kalori: "80 kkal", P: 1, K: 20, L: 0 },
                { nama: "Chia seed (10 g)", kalori: "30 kkal", P: 1, K: 2, L: 2 }
            ],
            makan_siang: [
                { nama: "Nasi merah (200 g)", kalori: "220 kkal", P: 5, K: 45, L: 1 },
                { nama: "Ikan tongkol balado (100 g)", kalori: "200 kkal", P: 22, K: 4, L: 10 },
                { nama: "Rebung tumis (150 g + 1 sdt minyak)", kalori: "120 kkal", P: 4, K: 18, L: 5 },
                { nama: "Timun segar (100 g)", kalori: "20 kkal", P: 1, K: 5, L: 0 },
                { nama: "Minyak ekstra (1 sdt)", kalori: "40 kkal", P: 0, K: 0, L: 4 }
            ],
            snack_sore: [
                { nama: "Pisang rebus (100 g)", kalori: "90 kkal", P: 1, K: 23, L: 0 }
            ],
            makan_malam: [
                { nama: "Kentang rebus (200 g)", kalori: "150 kkal", P: 4, K: 35, L: 0 },
                { nama: "Tahu bacem (120 g)", kalori: "160 kkal", P: 12, K: 10, L: 7 },
                { nama: "Tumis brokoli + kembang kol (150 g + 1 sdm minyak)", kalori: "140 kkal", P: 5, K: 15, L: 7 },
                { nama: "Semangka (200 g)", kalori: "80 kkal", P: 2, K: 20, L: 0 },
                { nama: "Ikan bandeng presto (100 g)", kalori: "200 kkal", P: 22, K: 0, L: 11 }
            ]
        },
        "6": {
            total: { kalori: 2040, P: 95, K: 285, L: 55 },
            sarapan: [
                { nama: "Overnight oat (50 g oat + 200 ml susu rendah lemak + apel 100 g)", kalori: "310 kkal", P: 12, K: 50, L: 6 }
            ],
            snack_pagi: [
                { nama: "Pir kecil (100 g)", kalori: "60 kkal", P: 0, K: 16, L: 0 }
            ],
            makan_siang: [
                { nama: "Nasi putih (200 g)", kalori: "260 kkal", P: 6, K: 58, L: 0 },
                { nama: "Ayam bakar bumbu kuning (120 g)", kalori: "200 kkal", P: 32, K: 0, L: 8 },
                { nama: "Sayur bayam+ jagung (200 g)", kalori: "100 kkal", P: 4, K: 20, L: 1 },
                { nama: "Lalapan tomat (50 g)", kalori: "10 kkal", P: 0, K: 2, L: 0 },
                { nama: "Minyak tumis (1 sdm)", kalori: "70 kkal", P: 0, K: 0, L: 8 }
            ],
            snack_sore: [
                { nama: "Jagung bakar tanpa mentega (100 g)", kalori: "100 kkal", P: 3, K: 22, L: 1 }
            ],
            makan_malam: [
                { nama: "Ubi kukus (200 g)", kalori: "180 kkal", P: 3, K: 42, L: 0 },
                { nama: "Bandeng presto (120 g)", kalori: "240 kkal", P: 26, K: 0, L: 14 },
                { nama: "Tumis kangkung (150 g + 1 sdm minyak)", kalori: "120 kkal", P: 5, K: 15, L: 6 },
                { nama: "Buah naga (200 g)", kalori: "100 kkal", P: 2, K: 26, L: 0 },
                { nama: "Telur rebus (1 butir)", kalori: "70 kkal", P: 6, K: 0, L: 5 },
                { nama: "Tempe goreng (80 g)", kalori: "190 kkal", P: 10, K: 10, L: 12 }
            ]
        },
        "7": {
            total: { kalori: 2120, P: 97, K: 288, L: 58 },
            sarapan: [
                { nama: "Bubur ayam sehat (250 g)", kalori: "250 kkal", P: 12, K: 36, L: 5 },
                { nama: "Jeruk (200 g)", kalori: "60 kkal", P: 1, K: 15, L: 0 }
            ],
            snack_pagi: [
                { nama: "Alpukat (100 g)", kalori: "160 kkal", P: 2, K: 8, L: 15 },
                { nama: "Yoghurt plain (50 g)", kalori: "30 kkal", P: 2, K: 5, L: 0 }
            ],
            makan_siang: [
                { nama: "Nasi merah (200 g)", kalori: "220 kkal", P: 5, K: 45, L: 1 },
                { nama: "Tahu tempe bacem (150 g)", kalori: "230 kkal", P: 18, K: 16, L: 10 },
                { nama: "Tumis buncis + wortel (150 g + 1 sdm minyak)", kalori: "140 kkal", P: 5, K: 18, L: 7 },
                { nama: "Pepaya (150 g)", kalori: "60 kkal", P: 1, K: 15, L: 0 },
                { nama: "Minyak ekstra (1 sdt)", kalori: "40 kkal", P: 0, K: 0, L: 4 },
                { nama: "Telur rebus (1 butir)", kalori: "70 kkal", P: 6, K: 0, L: 5 }
            ],
            snack_sore: [
                { nama: "Mete sangrai (20 g)", kalori: "110 kkal", P: 3, K: 6, L: 9 }
            ],
            makan_malam: [
                { nama: "Kentang rebus (200 g)", kalori: "150 kkal", P: 4, K: 35, L: 0 },
                { nama: "Ikan salmon panggang (100 g)", kalori: "200 kkal", P: 23, K: 0, L: 12 },
                { nama: "Capcay sayur (200 g + 1 sdm minyak)", kalori: "160 kkal", P: 6, K: 22, L: 8 },
                { nama: "Melon (200 g)", kalori: "80 kkal", P: 2, K: 20, L: 0 },
                { nama: "Tempe goreng (100 g)", kalori: "210 kkal", P: 12, K: 12, L: 14 }
            ]
        }
    };

    function showMenu(day) {
        const menuContainer = document.getElementById('menu-content-display');
        menuContainer.innerHTML = '';
        const menuData = menu7Hari[day];

        if (!menuData) {
            menuContainer.innerHTML = `<p>Maaf, data menu untuk hari ini tidak tersedia.</p>`;
            return;
        }

        let menuHTML = `
            <div class="menu-header">
                <h3>Total Kalori Hari ${day}: ${menuData.total.kalori} kkal</h3>
                <div class="macro-info">
                    <span class="protein">Protein: ${menuData.total.P} g</span>
                    <span class="karbohidrat">Karbohidrat: ${menuData.total.K} g</span>
                    <span class="lemak">Lemak: ${menuData.total.L} g</span>
                </div>
            </div>
        `;

        const mealOrder = ['sarapan', 'snack_pagi', 'makan_siang', 'snack_sore', 'makan_malam'];
        
        mealOrder.forEach(meal => {
          if (menuData[meal]) {
            let mealTitle = "";
            if (meal === "sarapan") mealTitle = "Sarapan";
            else if (meal === "snack_pagi") mealTitle = "Snack Pagi";
            else if (meal === "makan_siang") mealTitle = "Makan Siang";
            else if (meal === "snack_sore") mealTitle = "Snack Sore";
            else if (meal === "makan_malam") mealTitle = "Makan Malam";
    
            menuHTML += `
                <div class="meal-section">
                    <h4><i class="fas fa-apple-alt"></i> ${mealTitle}</h4>
                    <ul>
            `;
            menuData[meal].forEach(item => {
                menuHTML += `
                    <li class="food-item">
                        <span>${item.nama}</span>
                        <small>${item.kalori}</small>
                    </li>
                `;
            });
            menuHTML += `</ul></div>`;
          }
        });
        
        menuContainer.innerHTML = menuHTML;

        // Atur status aktif pada tombol menu
        document.querySelectorAll('.menu-day-nav .tab-button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`.menu-day-nav .tab-button[onclick="showMenu(${day})"]`).classList.add('active');
    }
    // === Akhir Fungsi dan Data Baru untuk Menu Makanan ===
    
    // Fungsi untuk menampilkan/menyembunyikan konten dengan animasi
    function toggleVisibility(containerId, buttonId) {
        const container = document.getElementById(containerId);
        const button = document.getElementById(buttonId);
        
        if (container.classList.contains('show')) {
            container.classList.remove('show');
            if (containerId === 'source-kalori-wrapper') {
                button.innerHTML = "Lihat Sumber Kalori";
                // Sembunyikan semua tabel saat menyembunyikan wrapper
                document.querySelectorAll('.content-table').forEach(table => table.classList.remove('active'));
                document.querySelectorAll('.nav-tabs .tab-button').forEach(btn => btn.classList.remove('active'));
            } else if (containerId === 'menu-container') {
                button.innerHTML = "Lihat Contoh Menu 7 Hari";
            }
        } else {
            container.classList.add('show');
            if (containerId === 'source-kalori-wrapper') {
                button.innerHTML = "Sembunyikan Sumber Kalori";
                showSource('karbohidrat'); // Tampilkan karbohidrat secara default saat pertama kali dibuka
            } else if (containerId === 'menu-container') {
                button.innerHTML = "Sembunyikan Menu 7 Hari";
                showMenu(1); // Tampilkan menu hari pertama secara default
            }
        }
    }

    // Fungsi baru untuk toggle section Gaya Hidup
    function toggleLifestyle(contentId) {
        const content = document.getElementById(contentId);
        const header = content.previousElementSibling;

        if (content.classList.contains('active')) {
            content.classList.remove('active');
            header.classList.remove('active');
        } else {
            // Sembunyikan semua konten lain
            document.querySelectorAll('.lifestyle-content.active').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.lifestyle-section-header.active').forEach(h => h.classList.remove('active'));

            // Tampilkan konten yang dipilih
            content.classList.add('active');
            header.classList.add('active');
        }
    }
    
    // Navbar navigation logic
    const navLinks = document.querySelectorAll('.navbar a');
    const cards = document.querySelectorAll('.card');

    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        // aktifkan link
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');

        // tampilkan card sesuai target
        const target = link.getAttribute('data-target');
        cards.forEach(card => {
          card.classList.remove('active');
          if (card.id === target) {
            card.classList.add('active');
          }
        });
        
        // Sembunyikan konten kalori, menu, dan gaya hidup saat pindah tab
        document.getElementById('source-kalori-wrapper').classList.remove('show');
        document.getElementById('toggleKaloriBtn').innerHTML = "Lihat Sumber Kalori";
        document.getElementById('menu-container').classList.remove('show');
        document.getElementById('toggleMenuBtn').innerHTML = "Lihat Contoh Menu 7 Hari";
        document.querySelectorAll('.lifestyle-content.active').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.lifestyle-section-header.active').forEach(h => h.classList.remove('active'));
      });
    });
  </script>
</body>
</html>
