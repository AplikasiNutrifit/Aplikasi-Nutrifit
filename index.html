<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NutriFit</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&family=Quicksand:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Background gradien animasi */
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #FFE259, #FFA751, #9CECFB, #65C7F7, #0052D4);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: #222;
      padding-bottom: 80px; /* ruang untuk navbar */
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    header {
      text-align: center;
      padding: 30px 15px 15px;
      color: #fff;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
    }

    header h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 2rem;
      margin: 0;
      animation: fadeInDown 1.5s ease;
    }

    header p {
      font-size: 0.95rem;
      max-width: 600px;
      margin: 10px auto 0;
      opacity: 0.95;
      animation: fadeIn 2s ease;
    }

    @keyframes fadeInDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Card Glassmorphism */
    .card {
      background: rgba(255, 255, 255, 0.85);
      border-radius: 16px;
      padding: 20px;
      margin: 15px auto;
      max-width: 700px;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 14px rgba(0,0,0,0.2);
      animation: fadeIn 1s ease;
      color: #222;
      display: none; /* default disembunyikan */
      font-size: 0.95rem;
    }

    .card.active {
      display: block; /* hanya card aktif yg tampil */
    }

    .card h2 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.3rem;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #333;
    }
    
    .card h2 i {
      color: #ff9800;
    }

    button {
      padding: 10px 18px;
      border: none;
      border-radius: 25px;
      background: linear-gradient(135deg, #ff9800, #ffc107);
      color: #fff;
      font-size: 0.95rem;
      cursor: pointer;
      transition: 0.3s;
      font-family: 'Poppins', sans-serif;
      margin-top: 8px;
    }

    button:hover {
      transform: scale(1.05);
      background: linear-gradient(135deg, #ffc107, #ff9800);
    }
    
    /* Tombol Reset yang keren */
    #btnReset {
        background: linear-gradient(135deg, #3498db, #65c7f7);
        margin-top: 20px;
        padding: 12px 25px;
        font-size: 1rem;
        box-shadow: 0 4px 10px rgba(52, 152, 219, 0.4);
    }
    #btnReset:hover {
        background: linear-gradient(135deg, #65c7f7, #3498db);
    }

    input, select {
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      margin: 6px 0;
      width: 100%;
      font-size: 0.95rem;
      box-sizing: border-box;
    }

    .result {
      margin-top: 15px;
      font-weight: bold;
      font-size: 1rem;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.5s ease;
      padding: 15px;
      border-radius: 10px;
    }
    .result.show {
      opacity: 1;
      transform: translateY(0);
    }

    .normal { color: #16a34a; background: #e6ffed; border: 1px solid #a3e6b9; }   /* hijau */
    .warning { color: #dc2626; background: #fee2e2; border: 1px solid #fca5a5; }  /* merah */
    .info { 
      color: #0052D4; 
      font-size: 0.9rem;
      font-weight: normal;
      text-align: left;
      margin-top: 15px;
      background: #e6f7ff;
      border-left: 5px solid #65C7F7;
      padding: 10px;
      border-radius: 8px;
      line-height: 1.5;
    }

    .klasifikasi {
      margin-top: 15px;
      font-size: 0.9rem;
      line-height: 1.5;
      background: #f7f7f7;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #eee;
    }

    .klasifikasi h3 {
      font-size: 1rem;
      margin-bottom: 8px;
      font-family: 'Poppins', sans-serif;
      color: #555;
    }

    .explanation {
        margin-top: 10px;
        font-size: 0.85rem;
        line-height: 1.4;
        color: #555;
        background: #fff8e6;
        padding: 10px;
        border-radius: 8px;
        border-left: 3px solid #ff9800;
    }

    /* Styling khusus untuk hasil kalori */
    .result-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
        text-align: center;
    }
    .result-card {
        background: #fdfdfd;
        border-radius: 12px;
        padding: 15px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        border: 1px solid #eee;
    }
    .result-card h4 {
        margin: 0 0 5px;
        font-size: 1rem;
        font-weight: 500;
        color: #666;
    }
    .result-value {
        font-family: 'Poppins', sans-serif;
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
    }
    .result-value small {
        font-size: 0.6em;
        font-weight: normal;
        color: #555;
    }
    .result-value.bmr-value { color: #2ecc71; }
    .result-value.tdee-value { color: #3498db; }

    .suggestion {
        margin-top: 20px;
        font-size: 0.9em;
        font-weight: normal;
        text-align: left;
        padding: 10px;
        background: #f0f8ff;
        border-radius: 8px;
        border-left: 3px solid #3498db;
    }
    .suggestion ul {
        list-style: none;
        padding-left: 0;
        margin: 10px 0 0;
    }
    .suggestion li {
        margin-bottom: 8px;
        position: relative;
        padding-left: 20px;
    }
    .suggestion li::before {
        content: '\f058'; /* Font Awesome check-circle */
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        position: absolute;
        left: 0;
        color: #ff9800;
    }
    .suggestion b {
        color: #ff9800;
    }

    /* Navbar bawah */
    .navbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(10px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.15);
      z-index: 100;
    }

    .navbar a {
      color: #555;
      text-decoration: none;
      font-size: 0.8rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: 0.3s;
      cursor: pointer;
    }

    .navbar a i {
      font-size: 1.2rem;
      margin-bottom: 3px;
    }

    .navbar a.active, .navbar a:hover {
      color: #ff9800;
      transform: scale(1.1);
    }
    
    /* === Tambahan Style untuk Fitur Sumber Kalori & Menu === */
    .section-divider {
        height: 2px;
        background: linear-gradient(to right, #ccc, #fff, #ccc);
        border: none;
        margin: 30px auto;
    }

    .content-sub-title {
        font-family: 'Poppins', sans-serif;
        font-size: 1.2rem;
        margin-top: 20px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        color: #555;
    }
    
    .toggle-button-container {
      text-align: center;
      margin: 15px 0;
    }
    .toggle-button {
      font-size: 0.9rem;
      padding: 10px 20px;
      min-width: 250px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .nav-tabs {
        display: flex;
        justify-content: space-around;
        gap: 5px;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }

    .nav-tabs button {
        background: rgba(255, 255, 255, 0.4);
        color: #333;
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        font-family: 'Quicksand', sans-serif;
        font-size: 0.85rem;
        padding: 8px 12px;
        transition: all 0.3s ease;
        margin: 4px 0;
    }

    .nav-tabs button.active {
        background: linear-gradient(45deg, #ff9800, #ffc107);
        color: #fff;
        border: 1px solid #ff9800;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transform: translateY(-2px);
    }
    
    .source-kalori-wrapper, #menu-container {
        display: none;
        overflow: hidden;
        max-height: 0;
        transition: all 0.5s ease-out;
    }
    
    .source-kalori-wrapper.show, #menu-container.show {
      display: block;
      max-height: 2000px; /* Cukup besar untuk menampung konten */
    }

    .content-table, .menu-content {
      display: none; /* Default: Sembunyikan semua konten */
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: #fdfdfd;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      animation: fadeIn 0.8s ease; /* Tambahkan animasi fade-in */
    }

    .content-table.active, .menu-content.active {
      display: block; /* Tampilkan konten yang aktif */
    }

    .content-table th, .content-table td {
        padding: 12px;
        text-align: left;
    }

    .content-table thead {
        background-color: #f0f0f0;
    }

    .content-table tbody tr:nth-child(even) {
        background-color: #fafafa;
    }

    .content-table td:last-child {
        font-weight: bold;
        color: #ff9800;
    }

    .content-table h3 {
        font-size: 1rem;
        margin: 0;
        padding: 10px 0;
        color: #555;
    }
    
    .content-table table {
        width: 100%;
        border-collapse: collapse;
    }
    .content-table table th, .content-table table td {
        padding: 8px;
        border-top: 1px solid #eee;
    }
    .content-table table th {
        background-color: #f5f5f5;
    }
    .content-table table tr:last-child td {
        border-bottom: none;
    }

    /* Style untuk Menu Makanan */
    .menu-day-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
      margin-bottom: 20px;
    }
    .menu-day-nav button {
      padding: 8px 10px;
      font-size: 0.8rem;
    }
    .menu-header {
      text-align: center;
      margin-bottom: 15px;
    }
    .menu-header h3 {
      font-size: 1.5rem;
      margin-bottom: 5px;
      color: #ff9800;
    }
    .macro-info {
      display: flex;
      justify-content: space-around;
      gap: 10px;
      margin-top: 10px;
      font-size: 0.9rem;
      font-weight: bold;
    }
    .macro-info span {
      background: #f0f0f0;
      padding: 5px 10px;
      border-radius: 8px;
    }
    .macro-info .protein { color: #3498db; }
    .macro-info .karbohidrat { color: #e67e22; }
    .macro-info .lemak { color: #f1c40f; }

    .meal-section {
      background: #f7f7f7;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .meal-section h4 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      color: #444;
      border-bottom: 2px solid #ddd;
      padding-bottom: 5px;
      margin-top: 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .meal-section ul {
      list-style-type: none;
      padding: 0;
    }
    .meal-section li {
      margin-bottom: 5px;
    }
    .meal-section .food-item {
      display: flex;
      justify-content: space-between;
      border-bottom: 1px dashed #eee;
      padding: 5px 0;
    }
    .meal-section .food-item:last-child {
      border-bottom: none;
    }
    .meal-section .food-item span {
      font-weight: 500;
    }
    .meal-section .food-item small {
      color: #666;
    }
    
    .content-wrapper {
      margin-top: 20px;
    }

    /* === Akhir Tambahan Style === */

    /* === Style untuk Kalkulator Sehat === */
    .calculator-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    .card-inner {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .card-inner h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.1rem;
      margin-top: 0;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #333;
    }
    .card-inner h3 i {
        color: #ff9800;
    }
    /* === Akhir Style untuk Kalkulator Sehat === */

    /* === Style untuk Gaya Hidup === */
    .lifestyle-section {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .lifestyle-section-header {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: 'Poppins', sans-serif;
        font-size: 1.1rem;
        color: #333;
        cursor: pointer;
        user-select: none;
    }

    .lifestyle-section-header i {
        color: #ff9800;
        transition: transform 0.3s ease;
    }

    .lifestyle-section-header.active i {
        transform: rotate(90deg);
    }

    .lifestyle-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-out;
        padding: 0 10px;
        line-height: 1.6;
    }

    .lifestyle-content.active {
        max-height: 1000px; /* cukup besar untuk konten */
        padding: 15px 10px;
    }
    
    .lifestyle-content h4 {
        font-size: 1rem;
        font-weight: 500;
        color: #555;
        margin: 10px 0 5px;
    }
    
    .lifestyle-content ul {
        margin: 0;
        padding-left: 20px;
        list-style-type: disc;
    }
    
    .lifestyle-content ul li {
        margin-bottom: 5px;
    }
    
    .lifestyle-content ol {
      margin: 10px 0;
      padding-left: 20px;
    }
    /* === Akhir Style untuk Gaya Hidup === */
    
    /* Animasi Baru untuk Icon Judul */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); color: #ffa751; }
      100% { transform: scale(1); }
    }
    
    .feature-item i {
        margin-right: 5px;
    }
    
    /* Style untuk Card Hasil Kalkulator */
    #hasilKalkulator h2 {
        border-bottom: 3px solid rgba(255, 152, 0, 0.5); 
        padding-bottom: 10px; 
        margin-bottom: 15px;
    }
    #hasilKalkulator h3 {
        font-family: 'Poppins', sans-serif;
        font-size: 1.2rem;
        color: #333;
        margin-top: 20px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    #hasilKalkulator h3 i {
        color: #ff9800;
    }
    
    /* === STYLE KHUSUS UNTUK CARD TENTANG === */
    .about-info {
        background: #f7f7f7;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-top: 15px;
        border-left: 5px solid #3498db;
    }
    
    .about-info h3 {
        font-family: 'Poppins', sans-serif;
        font-size: 1.3rem;
        color: #0052D4;
        margin-top: 0;
        margin-bottom: 15px;
        text-align: center;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
    }
    
    .about-info .info-section {
        margin-bottom: 20px;
        padding: 10px 0;
        border-bottom: 1px dashed #eee;
    }
    
    .about-info .info-section:last-child {
        border-bottom: none;
        margin-bottom: 0;
    }
    
    .about-info h4 {
        font-family: 'Poppins', sans-serif;
        font-size: 1rem;
        color: #ff9800;
        margin: 0 0 8px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .about-info ul {
        list-style: none;
        padding-left: 0;
        margin: 5px 0 0;
    }
    
    .about-info ul li {
        margin-bottom: 5px;
        position: relative;
        padding-left: 15px;
        color: #555;
    }
    
    .about-info ul li::before {
        content: '\f0da'; /* Font Awesome angle-right */
        font-family: 'Font Awesome 6 Free';
        font-weight: 900;
        position: absolute;
        left: 0;
        color: #2ecc71;
    }
    
    .prodi-info {
        text-align: center;
        font-size: 0.9rem;
        color: #555;
        margin-top: 20px;
        padding-top: 15px;
        border-top: 2px solid #ff9800;
        border-radius: 0 0 12px 12px;
        background: #fff8e6;
    }
    .prodi-info p {
        margin: 5px 0;
    }
    
    .dosen-info {
        font-size: 1rem;
        font-weight: bold;
        color: #e67e22;
        margin-top: 5px;
    }
    /* === AKHIR STYLE KHUSUS UNTUK CARD TENTANG === */
  </style>
</head>
<body>
  <header>
    <h1><i class="fas fa-apple-alt"></i> NutriFit</h1>
    <p></p>
  </header>
  
  <div class="card active" id="home">
    <h2 style="
      font-size: 1.8rem; 
      color: #ff9800; 
      border-bottom: 3px solid rgba(255, 152, 0, 0.5); 
      padding-bottom: 10px; 
      margin-bottom: 15px;
      text-align: center;
      font-family: 'Poppins', sans-serif;
    ">
      <i class="fas fa-home-alt" style="margin-right: 10px; animation: pulse 1.5s infinite;"></i> Home
    </h2>
    
    <p style="text-align: center; font-style: italic; color: #555; margin-bottom: 25px;">
      "Nutrisi yang bikin kamu Fit!"
    </p>

    <div style="margin-bottom: 25px;">
      <h3 class="content-sub-title" style="margin-top: 0; justify-content: center; font-size: 1.1rem; color: #333;">
          <i class="fas fa-magic" style="color: #65C7F7;"></i> Mengungkap Makna NutriFit
      </h3>
      <div style="display: flex; gap: 10px; justify-content: space-around; flex-wrap: wrap;">
        
        <div style="
          flex: 1; min-width: 120px; 
          background: rgba(255, 255, 255, 0.9); 
          padding: 15px; 
          border-radius: 12px; 
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          border-left: 5px solid #ff9800;
          text-align: center;
        ">
          <i class="fas fa-seedling" style="color: #16a34a; font-size: 1.8rem; margin-bottom: 5px;"></i>
          <h4 style="margin: 0; font-family: 'Poppins', sans-serif; font-size: 1.1rem; color: #ff9800;">Nutri</h4>
          <small style="display: block; color: #555;">(Nutrisi)</small>
          <p style="margin: 5px 0 0; font-size: 0.85rem;">Fokus pada gizi dan pola makan seimbang.</p>
        </div>

        <div style="
          flex: 1; min-width: 120px; 
          background: rgba(255, 255, 255, 0.9); 
          padding: 15px; 
          border-radius: 12px; 
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          border-left: 5px solid #3498db;
          text-align: center;
        ">
          <i class="fas fa-running" style="color: #3498db; font-size: 1.8rem; margin-bottom: 5px;"></i>
          <h4 style="margin: 0; font-family: 'Poppins', sans-serif; font-size: 1.1rem; color: #3498db;">Fit</h4>
          <small style="display: block; color: #555;">(Fitness)</small>
          <p style="margin: 5px 0 0; font-size: 0.85rem;">Fokus pada tujuan: Tubuh yang sehat, bugar, dan ideal.</p>
        </div>
      </div>
    </div>

    <hr class="section-divider">
    
    <h3 class="content-sub-title" style="color: #e67e22;"><i class="fas fa-rocket"></i> Siap Meluncur ke Hidup Sehat?</h3>
    <p style="line-height: 1.5; background: #fffbe6; padding: 12px; border-radius: 8px; border: 1px dashed #ff9800;">
      üí¨ Pernah bingung berapa kalori yang kamu butuhkan setiap hari? Atau ingin tahu rekomendasi menu sehat yang tetap enak?
  Tenang, NutriFit punya solusinya! Aplikasi ini dirancang untuk membuat perjalananmu menuju gaya hidup seimbang menjadi mudah, akurat, dan menyenangkan!
    </p>
    <h3 class="content-sub-title"><i class="fas fa-star" style="color: #ff9800;"></i> Fitur Andalan NutriFit:</h3>
    <ul style="list-style: none; padding-left: 0; margin-top: 15px;">
      
      <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #ff9800;">
          <b style="color: #ff9800;"><i class="fas fa-calculator"></i> 1. Kalkulator Sehat</b>
          <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Menghitung IMT (Indeks Massa Tubuh) dan kebutuhan kalori harian Anda secara cepat dan akurat.</p>
      </li>
      
      <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #3498db;">
          <b style="color: #3498db;"><i class="fas fa-utensils"></i> 2. Menu</b>
          <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Mengetahui informasi sumber kalori makanan dan mendapatkan rekomendasi menu sehat selama 7 hari penuh.</p>
      </li>
      
      <li class="feature-item" style="margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; box-shadow: 0 1px 5px rgba(0,0,0,0.05); border-left: 4px solid #2ecc71;">
          <b style="color: #2ecc71;"><i class="fas fa-heartbeat"></i> 3. Gaya Hidup</b>
          <p style="margin: 5px 0 0; font-size: 0.9rem; color: #555;">Mendapatkan tips dan panduan penting tentang cara menerapkan gaya hidup sehat untuk hasil yang berkelanjutan.</p>
      </li>
    </ul>

    <p style="
      text-align: center; 
      margin-top: 25px; 
      font-weight: bold; 
      color: #0052D4; 
      font-size: 1rem;
      padding: 10px;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.7);
    ">
      Tekan tombol di bawah untuk memulai! üöÄ
    </p>

  </div>
  
  <div class="card" id="kalkulatorSehat">
    <h2><i class="fas fa-calculator"></i> Kalkulator Sehat</h2>
    <div class="calculator-container">
        <div class="card-inner">
            <h3><i class="fas fa-book-open"></i> Tentang Perhitungan</h3>
            <p class="explanation" style="border-left: 3px solid #ff9800;">
                <b>IMT (Indeks Massa Tubuh):</b> Perbandingan berat dan tinggi badan Anda, untuk mengukur kategori berat badan (Kurus, Normal, Gemuk).
            </p>
            <p class="explanation" style="border-left: 3px solid #2ecc71;">
                <b>BMR (Basal Metabolic Rate):</b> Kalori minimal yang tubuh Anda butuhkan untuk berfungsi saat istirahat (bernafas, memompa darah, dll.).
            </p>
            <p class="explanation" style="border-left: 3px solid #3498db;">
                <b>TDEE (Total Daily Energy Expenditure):</b> Total kalori yang Anda butuhkan untuk melakukan aktivitas sehari-hari (BMR x Faktor Aktivitas).
            </p>
            
            <hr class="section-divider">
            
            <h3><i class="fas fa-user-alt"></i> Masukkan Data Anda</h3>
            
            <input type="text" id="nama_pengguna" placeholder="Nama Pengguna, contoh: Budi">
            <input type="number" id="tinggi_badan" placeholder="Tinggi Badan (m), contoh: 1.70">
            <input type="number" id="berat_badan" placeholder="Berat Badan (kg), contoh: 60">
            <input type="number" id="usia" placeholder="Usia (tahun), contoh: 25">
            <select id="jenis_kelamin">
                <option value="" disabled selected>Pilih Jenis Kelamin</option>
                <option value="pria">Pria</option>
                <option value="wanita">Wanita</option>
            </select>
            <select id="aktivitas">
                <option value="" disabled selected>Pilih Tingkat Aktivitas</option>
                <option value="1.2">Sedentari (jarang olahraga)</option>
                <option value="1.375">Aktivitas Ringan (olahraga 1-2 kali/minggu)</option>
                <option value="1.55">Aktivitas Sedang (olahraga 3-5 kali/minggu )</option>
                <option value="1.725">Aktivitas Berat (olahraga 6-7 kali/minggu)</option>
                <option value="1.9">Aktivitas Sangat Berat (olahraga intens 2x sehari)</option>
            </select>
            <button onclick="hitungKombinasi()">Hitung Hasil Kombinasi</button>
        </div>
    </div>
  </div>
  
  <div class="card" id="hasilKalkulator">
      <h2><i class="fas fa-star-half-alt"></i> Hasil Kesehatan Anda</h2>
      <div class="calculator-container">
          <div class="card-inner">
              <h3><i class="fas fa-weight"></i> Hasil IMT (Indeks Massa Tubuh)</h3>
              <div class="result" id="hasilIMT"></div>
              <div class="info" id="petunjukIMT" style="display: none;"></div> 
              
              <div class="klasifikasi">
                  <h3>Klasifikasi IMT menurut Kemenkes RI (2015)</h3>
                  <ul>
                      <li>&lt; 17.0 : Kurus (Tingkat Berat)</li>
                      <li>17.0 ‚Äì 18.4 : Kurus (Tingkat Ringan)</li>
                      <li>18.5 ‚Äì 25.0 : Normal</li>
                      <li>25.1 ‚Äì 27.0 : Gemuk (Tingkat Ringan)</li>
                      <li>&gt; 27.0 : Gemuk (Tingkat Berat)</li>
                  </ul>
                  <p><small>Catatan: Pengukuran IMT ini tidak dapat dilakukan pada orang hamil, binaragawan, edema, dan ascites.</small></p>
              </div>
          </div>

          <div class="card-inner">
              <h3><i class="fas fa-fire"></i> Hasil Kebutuhan Kalori Harian</h3>
              <div class="result" id="hasilKalori"></div>
          </div>
      </div>
      
      <div style="text-align: center;">
          <button id="btnReset" onclick="resetKalkulator()"><i class="fas fa-undo"></i> Hitung Ulang</button>
      </div>
  </div>


  <div class="card" id="gayaHidup">
    <h2><i class="fas fa-heartbeat"></i> Gaya Hidup Sehat</h2>
    <div class="lifestyle-section" onclick="toggleLifestyle('gizi')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Panduan Gizi Seimbang</span>
      </div>
      <div class="lifestyle-content" id="gizi">
        <p>Dalam menyusun menu makanan sehat ini, ada sepuluh pedoman atau pesan gizi seimbang yang dapat diikuti, yaitu:</p>
        <ol>
          <li>Nikmati dan syukuri beragam makanan.</li>
          <li>Biasakan makan aneka ragam makanan pokok.</li>
          <li>Biasakan makan lauk pauk yang kaya protein.</li>
          <li>Banyak makan sayur dan buah-buahan.</li>
          <li>Batasi makanan asin, manis dan berlemak.</li>
          <li>Biasakan sarapan di pagi hari.</li>
          <li>Biasakan minum cukup air putih yang aman.</li>
          <li>Biasakan membaca label pada kemasan makanan.</li>
          <li>Lakukan aktivitas fisik secara rutin dan jaga berat badan ideal.</li>
          <li>Biasakan mencuci tangan dengan sabun dan air mengalir.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('air')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Minum Air yang Cukup</span>
      </div>
      <div class="lifestyle-content" id="air">
        <p>
          Kandungan air dalam tubuh manusia sekitar 2/3 atau sekitar 60%-70% dari berat tubuh. Kekurangan konsumsi air bisa membuat kita dehidrasi atau kekurangan cairan tubuh. Air Putih merupakan minuman yang paling sehat dan tidak berbahaya karena dibutuhkan oleh tubuh kita untuk menjaga kesehatan. Syarat-syarat air minum adalah tidak berasa, tidak berbau, tidak berwarna, tidak mengandung mikroorganisme yang berbahaya, dan tidak mengandung logam berat. Air minum adalah air yang melalui proses pengolahan ataupun tanpa proses pengolahan yang memenuhi syarat kesehatan dan dapat langsung di minum (Kepmenkes Nomor 907 Tahun 2002).
        </p>
        <h4>Manfaat minum air putih 8 gelas setiap hari:</h4>
        <ul>
          <li>Memelihara fungsi ginjal</li>
          <li>Mengurangi risiko kanker kandung kemih</li>
          <li>Memperlancar pencernaan</li>
          <li>Menjaga kesehatan kulit dan mengontrol kalori.</li>
        </ul>
        <h4>Tips memenuhi kebutuhan air putih setiap hari:</h4>
        <ol>
          <li>Minum air putih saat makan atau mengkonsumsi camilan.</li>
          <li>Sediakan gelas atau botol berisi air minum di meja atau tas yang Anda bawa saat beraktivitas.</li>
          <li>Tambahkan rasa pada air putih agar terasa lebih enak, seperti buah-buahan dalam infused water.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('aktivitas')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Aktivitas Fisik</span>
      </div>
      <div class="lifestyle-content" id="aktivitas">
        <p>
          <b>AKTIVITAS FISIK</b> adalah setiap gerakan tubuh yang diakibatkan kerja otot rangka dan meningkatkan pengeluaran tenaga atau energi. Dapat dilakukan di rumah, di tempat kerja, di tempat umum, termasuk aktivitas fisik lain yang dilakukan untuk mengisi waktu senggang sehari-hari.
        </p>
        <h4>Jenis-jenisnya:</h4>
        <p><b>CONTOH AKTIVITAS FISIK RINGAN</b></p>
        <ul>
          <li>Berjalan santai, bekerja dengan komputer, membaca, menulis, menyetir, mengoperasikan mesin dengan posisi duduk atau berdiri.</li>
          <li>Pekerjaan rumah tangga, seperti mencuci piring, menyetrika, memasak, menyapu, menjahit.</li>
          <li>Latihan peregangan dengan gerakan lambat, membuat prakarya, menggambar, melukis, bermain musik.</li>
        </ul>
        <p><b>CONTOH AKTIVITAS FISIK SEDANG</b></p>
        <ul>
          <li>Berjalan cepat pada permukaan rata, pekerjaan tukang kayu, membawa dan menyusun balok kayu.</li>
          <li>Memotong rumput dengan mesin, pekerjaan rumah seperti mengepel lantai, membersihkan rumah, memindahkan perabot ringan.</li>
          <li>Berkebun, menanam pohon, mencuci mobil.</li>
        </ul>
        <h4>Manfaat beraktivitas fisik secara rutin:</h4>
        <ol>
          <li>Meningkatkan keseimbangan, fleksibilitas, dan metabolisme tubuh.</li>
          <li>Meningkatkan kerja otot jantung dan paru.</li>
          <li>Memelihara kesehatan tulang, otot, dan sendi.</li>
          <li>Mencegah stress, serta mengurangi kecemasan dan depresi.</li>
          <li>Mengurangi risiko diabetes dan tekanan darah tinggi.</li>
        </ol>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('beratBadan')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>Menjaga Berat Badan Ideal</span>
      </div>
      <div class="lifestyle-content" id="beratBadan">
        <p>
          Pantau indeks massa tubuh Anda setiap bulan. Kelebihan berat badan atau tubuh yang terlalu kurus bisa menjadi indikator penurunan kesehatan, yang membuat Anda lebih rentan terhadap berbagai penyakit.
        </p>
        <h4>Pola makan</h4>
        <p>
          Pola makan mencakup jumlah, jenis, jadwal makan, dan pengolahan bahan makanan. Jenis makanan pada piramida gizi seimbang terdiri dari kelompok karbohidrat, sayur dan buah, protein dan minyak, gula, garam.
        </p>
        <p>
          <b>Anjuran konsumsi gula, garam dan lemak:</b> 4 sendok makan gula, 1 sendok teh garam dan 5 sendok makan minyak.
        </p>
        <h4>Teknik pengolahan</h4>
        <p>
          Yang dianjurkan adalah dengan cara dikukus, rebus, dan tumis dengan menggunakan minyak sedikit serta tanpa penambahan gula yang berlebihan.
        </p>
      </div>
    </div>
    <div class="lifestyle-section" onclick="toggleLifestyle('cuciTangan')">
      <div class="lifestyle-section-header">
        <i class="fas fa-angle-right"></i>
        <span>6 Langkah Cuci Tangan</span>
      </div>
      <div class="lifestyle-content" id="cuciTangan">
        <ol>
          <li>Tuangkan sabun pada tangan yang telah dibasahi. Kemudian gosok dan usap kedua telapak tangan dengan arah memutar.</li>
          <li>Jangan lupa menggosok kedua punggung tangan secara bergantian.</li>
          <li>Bersihkan sela-sela jari tangan dengan menggosok.</li>
          <li>Kunci ujung jari kedua tangan untuk membersihkan.</li>
          <li>Bersihkan kedua ibu jari dengan menggosok dan memutar secara bergantian.</li>
          <li>Letakkan ujung jari di atas telapak tangan, lalu gosok perlahan. Bilas kedua telapak tangan dan keringkan.</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="card" id="sumberKalori">
    <h2><i class="fas fa-carrot"></i> Sumber Kalori & Menu</h2>
    
    <div class="content-wrapper">
      <h3 class="content-sub-title"><i class="fas fa-search"></i> Sumber Kalori Makanan</h3>
      <p>Cari tahu kandungan kalori dari berbagai jenis makanan di sini. Sumber Informasi dari Tabel Komposisi Pangan Indonesia (2020).  </p>
      <div class="toggle-button-container">
        <button id="toggleKaloriBtn" class="toggle-button" onclick="toggleVisibility('source-kalori-wrapper', 'toggleKaloriBtn')">Lihat Sumber Kalori</button>
      </div>

      <div class="source-kalori-wrapper" id="source-kalori-wrapper">
        <div class="nav-tabs">
          <button class="tab-button" onclick="showSource('karbohidrat')">Karbohidrat</button>
          <button class="tab-button" onclick="showSource('protein')">Protein</button>
          <button class="tab-button" onclick="showSource('lemak')">Lemak</button>
          <button class="tab-button" onclick="showSource('buah')">Buah-buahan</button>
          <button class="tab-button" onclick="showSource('sayur')">Sayur-sayuran</button>
        </div>
        <div id="content-karbohidrat" class="content-table"></div>
        <div id="content-protein" class="content-table"></div>
        <div id="content-lemak" class="content-table"></div>
        <div id="content-buah" class="content-table"></div>
        <div id="content-sayur" class="content-table"></div>
      </div>
    </div>
    
    <hr class="section-divider">

    <div class="content-wrapper">
      <h3 class="content-sub-title"><i class="fas fa-utensils"></i> Contoh Menu Sehat</h3>
      <p>Mau inspirasi menu sehat untuk satu minggu? Klik tombol di bawah ini! Sumber Informasi dari Tabel Komposisi Pangan Indonesia (2020).</p>
      <div class="toggle-button-container">
        <button id="toggleMenuBtn" class="toggle-button" onclick="toggleVisibility('menu-container', 'toggleMenuBtn')">Lihat Contoh Menu 7 Hari</button>
      </div>
      
      <div id="menu-container">
        <div class="menu-day-nav nav-tabs">
            <button class="tab-button active" onclick="showMenu(1)">Hari 1</button>
            <button class="tab-button" onclick="showMenu(2)">Hari 2</button>
            <button class="tab-button" onclick="showMenu(3)">Hari 3</button>
            <button class="tab-button" onclick="showMenu(4)">Hari 4</button>
            <button class="tab-button" onclick="showMenu(5)">Hari 5</button>
            <button class="tab-button" onclick="showMenu(6)">Hari 6</button>
            <button class="tab-button" onclick="showMenu(7)">Hari 7</button>
        </div>
        <div id="menu-content-display"></div>
      </div>
    </div>
  </div>
  
  <div class="card" id="tentang">
    <h2><i class="fas fa-info-circle"></i> Tentang NutriFit</h2>
    <p>Aplikasi <b>NutriFit</b> dibuat untuk membantu masyarakat memahami kebutuhan gizi dengan mudah, praktis, dan menyenangkan.
    Aplikasi ini merupakan bagian dari Proyek Tugas Mata Kuliah Sistem Informasi Kesehatan.</p>
    
    <div class="about-info">
      <h3><i class="fas fa-flask"></i> Detail Mini Project</h3>
      
      <div class="info-section">
          <h4><i class="fas fa-chalkboard-teacher"></i> Dosen Pembimbing</h4>
          <p class="dosen-info">Yuniastini, S.K.M., M.Kes.</p>
      </div>
      
      <div class="info-section">
          <h4><i class="fas fa-users"></i> Disusun oleh Kelompok 4</h4>
          <ul>
              <li>Maria Agustina (2414301109)</li>
              <li>Fedora Fawwaz Irawan (2414301095)</li>
              <li>Bella Dini Mezza Luna (2414301089)</li>
              <li>Silvi Anggraeni (2414301126)</li>
              <li>Muhammad Tri Zaeri (2414301113)</li>
          </ul>
      </div>
      
      <div class="prodi-info">
          <p><strong>POLITEKNIK KESEHATAN TANJUNGKARANG</strong></p>
          <p>JURUSAN KEPERAWATAN</p>
          <p>PROGRAM STUDI SARJANA TERAPAN KEPERAWATAN REGULER 2 TINGKAT 2</p>
          <p>TAHUN AKADEMIK 2025/2026</p>
      </div>
    </div>

  </div>

  <div class="navbar">
    <a data-target="home" class="active"><i class="fas fa-home"></i>Home</a>
    <a data-target="kalkulatorSehat"><i class="fas fa-calculator"></i>Kalkulator Sehat</a>
    <a data-target="sumberKalori"><i class="fas fa-carrot"></i>Menu</a>
    <a data-target="gayaHidup"><i class="fas fa-heartbeat"></i>Gaya Hidup</a>
    <a data-target="tentang"><i class="fas fa-info-circle"></i>Tentang</a>
  </div>

  <script>
    
    // ===========================================
    // FUNGSI GABUNGAN IMT dan KALORI
    // ===========================================
    function hitungKombinasi() {
        // Ambil data dari satu set input
        let nama = document.getElementById('nama_pengguna').value.trim();
        let bb = parseFloat(document.getElementById('berat_badan').value);
        // TB untuk IMT dalam meter (sudah sesuai placeholder)
        let tb_m = parseFloat(document.getElementById('tinggi_badan').value); 
        // TB untuk Kalori dalam cm
        let tb_cm = tb_m * 100; 
        let usia = parseInt(document.getElementById('usia').value);
        let gender = document.getElementById('jenis_kelamin').value;
        let aktivitas = parseFloat(document.getElementById('aktivitas').value);

        let hasilIMT = document.getElementById('hasilIMT');
        let petunjukIMT = document.getElementById('petunjukIMT');
        let hasilKalori = document.getElementById('hasilKalori');
        
        // Reset hasil
        hasilIMT.className = "result";
        petunjukIMT.style.display = 'none';
        hasilKalori.className = "result";
        
        // Validasi umum
        if (!nama || isNaN(bb) || isNaN(tb_m) || isNaN(usia) || tb_m <= 0 || bb <= 0 || usia <= 0 || !gender || isNaN(aktivitas)) {
            // Tampilkan error di card input
            document.getElementById('hasilIMT').innerHTML = "‚ö†Ô∏è **IMT:** Masukkan semua data dengan benar!";
            document.getElementById('hasilIMT').classList.add("show", "warning");
            document.getElementById('hasilKalori').innerHTML = "‚ö†Ô∏è **Kalori:** Masukkan semua data dengan benar!";
            document.getElementById('hasilKalori').classList.add("show", "warning");
            
            // Pindahkan ke card Kalkulator (Input)
            setActiveCard('kalkulatorSehat');
            return;
        }

        // --- 1. Hitung IMT ---
        const imtResult = hitungIMT_Internal(nama, bb, tb_m);

        // --- 2. Hitung Kalori ---
        const kaloriResult = hitungKalori_Internal(nama, bb, tb_cm, usia, gender, aktivitas);
        
        // --- 3. Tampilkan Hasil di Card Output Baru ---
        
        // Tampilkan Hasil IMT di Card Output
        document.getElementById('hasilIMT').innerHTML = imtResult.html;
        document.getElementById('hasilIMT').classList.add("show", imtResult.kelas);
        document.getElementById('petunjukIMT').innerHTML = imtResult.petunjukHTML;
        document.getElementById('petunjukIMT').style.display = 'block';

        // Tampilkan Hasil Kalori di Card Output
        document.getElementById('hasilKalori').innerHTML = kaloriResult.html;
        document.getElementById('hasilKalori').classList.add("show", "normal");
        
        // Pindah ke card hasil dan update navbar
        setActiveCard('hasilKalkulator', 'kalkulatorSehat'); // Pindahkan fokus ke hasilKalkulator
    }
    
    // Fungsi Reset/Kembali ke Awal Kalkulator
    function resetKalkulator() {
        // Reset input form
        document.getElementById('nama_pengguna').value = '';
        document.getElementById('tinggi_badan').value = '';
        document.getElementById('berat_badan').value = '';
        document.getElementById('usia').value = '';
        document.getElementById('jenis_kelamin').value = '';
        document.getElementById('aktivitas').value = '';

        // Reset hasil di card output (agar bersih saat kembali hitung)
        document.getElementById('hasilIMT').innerHTML = '';
        document.getElementById('hasilIMT').classList.remove("show", "normal", "warning");
        document.getElementById('petunjukIMT').innerHTML = '';
        document.getElementById('petunjukIMT').style.display = 'none';
        document.getElementById('hasilKalori').innerHTML = '';
        document.getElementById('hasilKalori').classList.remove("show", "normal", "warning");

        // Pindahkan kembali ke card input kalkulator
        setActiveCard('kalkulatorSehat');
        
        // Pastikan navbar kalkulator aktif
        const navLinks = document.querySelectorAll('.navbar a');
        navLinks.forEach(link => {
            if (link.getAttribute('data-target') === 'kalkulatorSehat') {
                navLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');
            }
        });
    }

    // Fungsi Internal untuk Hitung IMT (Mengembalikan Objek Hasil)
    function hitungIMT_Internal(nama, bb, tb) {
      
      const tb2 = tb * tb;
      let imt = bb / tb2;
      let status = "";
      let kelas = "";
      let petunjukHTML = "";

      // Konstanta batas IMT
      const IMT_KURUS_RINGAN_MAX = 18.4;
      const IMT_NORMAL_MIN = 18.5;
      const IMT_NORMAL_MAX = 25.0;
      const IMT_GEMUK_RINGAN_MAX = 27.0;

      // 1. Tentukan Status IMT
      if (imt < 17.0) { status = "Kurus (Tingkat Berat)"; kelas = "warning"; }
      else if (imt <= IMT_KURUS_RINGAN_MAX) { status = "Kurus (Tingkat Ringan)"; kelas = "warning"; }
      else if (imt <= IMT_NORMAL_MAX) { status = "Normal"; kelas = "normal"; }
      else if (imt <= IMT_GEMUK_RINGAN_MAX) { status = "Gemuk (Tingkat Ringan)"; kelas = "warning"; }
      else { status = "Gemuk (Tingkat Berat)"; kelas = "warning"; }

      // 2. Tentukan Petunjuk/Warning BB Spesifik
      
      if (status === "Normal") {
          const bbMinNormal = (IMT_NORMAL_MIN * tb2).toFixed(1); 
          const bbMaxNormal = (IMT_NORMAL_MAX * tb2).toFixed(1); 
          const bbBatasturun = (17.0 * tb2).toFixed(1); 
          const bbBatasNaikBerat = (27.1 * tb2).toFixed(1); 
          
          petunjukHTML = `
            <p><strong><i class="fas fa-check-circle"></i> Selamat, Indeks Massa Tubuh Anda Normal!</strong></p>
            <p>Untuk menjaga status ini, rentang berat badan ideal Anda adalah antara <b>${bbMinNormal} kg</b> hingga <b>${bbMaxNormal} kg</b>.</p>
            <ul>
                <li>‚ö†Ô∏è <b>Peringatan:</b> Jika berat badan Anda mencapai <b>${bbBatasNaikBerat} kg</b>, Anda akan masuk kategori Gemuk Tingkat Berat.</li>
                <li><i class="fas fa-exclamation-triangle"></i> Jika berat badan Anda turun di bawah <b>${bbBatasturun} kg</b>, Anda akan masuk kategori Kurus Tingkat Berat.</li>
            </ul>
          `;
      } else if (status.includes("Kurus")) {
          const bbButuhNormal = (IMT_NORMAL_MIN * tb2).toFixed(1);
          const bbNaik = (bbButuhNormal - bb).toFixed(1);

          if (status === "Kurus (Tingkat Ringan)") {
             const bbBatasTurun = (17.0 * tb2).toFixed(1);
             petunjukHTML = `
                <p><strong><i class="fas fa-plus-circle"></i> Petunjuk:</strong> Anda perlu menaikkan berat badan minimal <b>${bbNaik} kg</b> untuk mencapai IMT Normal (minimal <b>${bbButuhNormal} kg</b>).</p>
                <p>‚ö†Ô∏è <b>Peringatan:</b> Jika BB Anda turun hingga <b>${bbBatasTurun} kg</b>, Anda akan masuk kategori Kurus Tingkat Berat.</p>
             `;
          } else { // Kurus Tingkat Berat
              petunjukHTML = `
                <p><strong><i class="fas fa-plus-circle"></i> Petunjuk:</strong> Anda perlu menaikkan berat badan minimal <b>${bbNaik} kg</b> untuk mencapai IMT Normal (minimal <b>${bbButuhNormal} kg</b>).</p>
                <p>üö® SARAN DOKTER: Status gizi ini memerlukan perhatian serius. Segera konsultasikan dengan profesional kesehatan.</p>
             `;
          }
      } else { // Gemuk Ringan atau Gemuk Berat
          const bbMaksNormal = (IMT_NORMAL_MAX * tb2).toFixed(1);
          const bbTurunNormal = (bb - bbMaksNormal).toFixed(1);
          const bbMaksGemukRingan = (IMT_GEMUK_RINGAN_MAX * tb2).toFixed(1);
          const bbTurunGemukRingan = (bb - bbMaksGemukRingan).toFixed(1);

          if (status === "Gemuk (Tingkat Ringan)") {
             petunjukHTML = `
                <p><strong><i class="fas fa-minus-circle"></i> Petunjuk:</strong> Untuk mencapai IMT Normal (maksimal <b>${bbMaksNormal} kg</b>), Anda perlu menurunkan berat badan minimal <b>${bbTurunNormal} kg</b>.</p>
                <p>Lakukan diet kalori terkontrol dan olahraga teratur.</p>
             `;
          } else { // Gemuk Tingkat Berat
              petunjukHTML = `
                <p><strong><i class="fas fa-minus-circle"></i> Petunjuk:</strong> Anda berada di kategori risiko tinggi.</p>
                <p>Minimal, turunkan berat badan <b>${bbTurunGemukRingan} kg</b> untuk masuk kategori Gemuk Tingkat Ringan (maksimal <b>${bbMaksGemukRingan} kg</b>).</p>
                <p>Idealnya, turunkan <b>${bbTurunNormal} kg</b> untuk mencapai IMT Normal (maksimal <b>${bbMaksNormal} kg</b>).</p>
                <p>üö® SARAN DOKTER: Status gizi ini sangat disarankan untuk dikonsultasikan dengan dokter/ahli gizi.</p>
             `;
          }
      }

      // 3. Tampilkan Hasil dan Petunjuk
      const namaTampil = nama ? `<br>Pengguna: <b>${nama}</b>` : '';
      const resultHTML = `IMT Anda: <b>${imt.toFixed(2)}</b><br>Status: <b>${status}</b>${namaTampil}`;
      
      return { html: resultHTML, kelas: kelas, petunjukHTML: petunjukHTML };
    }
    
    // Fungsi Internal untuk Hitung Kalori (Mengembalikan Objek Hasil)
    function hitungKalori_Internal(nama, bb, tb, usia, gender, aktivitas) {
        let bmr;
        // Rumus Harris-Benedict (revisi)
        if (gender === 'pria') {
            bmr = (10 * bb) + (6.25 * tb) - (5 * usia) + 5;
        } else {
            bmr = (10 * bb) + (6.25 * tb) - (5 * usia) - 161;
        }

        let tdee = bmr * aktivitas;
        
        const namaTampil = nama ? `(${nama})` : '';

        const resultHTML = `
            <h3>Hasil Kebutuhan Kalori Harian Anda ${namaTampil}</h3>
            <div class="result-container">
                <div class="result-card">
                    <h4>BMR</h4>
                    <span class="result-value bmr-value">${bmr.toFixed(0)}<small> kkal</small></span>
                </div>
                <div class="result-card">
                    <h4>TDEE</h4>
                    <span class="result-value tdee-value">${tdee.toFixed(0)}<small> kkal</small></span>
                </div>
            </div>
            
            <div class="suggestion">
                <h4><b>Sesuaikan dengan Tujuan Anda:</b></h4>
                <ul>
                    <li>Untuk menurunkan berat badan: Konsumsi kalori lebih sedikit dari TDEE Anda.</li>
                    <li>Untuk menaikkan berat badan: Konsumsi kalori lebih banyak dari TDEE Anda.</li>
                    <li>Untuk mempertahankan berat badan: Konsumsi kalori sesuai dengan TDEE Anda.</li>
                </ul>
            </div>
        `;
        return { html: resultHTML, bmr: bmr.toFixed(0), tdee: tdee.toFixed(0) };
    }

    // ===========================================
    // FUNGSI NAVIGASI CARD
    // ===========================================
    
    function setActiveCard(targetId, currentId = null) {
        const cards = document.querySelectorAll('.card');
        const navLinks = document.querySelectorAll('.navbar a');
        
        // Sembunyikan semua card
        cards.forEach(card => card.classList.remove('active'));
        
        // Tampilkan card target
        const targetCard = document.getElementById(targetId);
        if (targetCard) {
            targetCard.classList.add('active');
        }

        // Atur status aktif di navbar
        navLinks.forEach(l => l.classList.remove('active'));
        
        // Tentukan link mana yang harus aktif di navbar
        let activeLinkTarget = targetId;
        if (targetId === 'hasilKalkulator') {
            activeLinkTarget = 'kalkulatorSehat'; // Biarkan link "Kalkulator Sehat" tetap aktif
        }
        
        const activeLink = document.querySelector(`.navbar a[data-target="${activeLinkTarget}"]`);
        if (activeLink) {
            activeLink.classList.add('active');
        }
    }
    
    // ===========================================
    // DATA dan FUNGSI LAIN (TIDAK BERUBAH)
    // ===========================================
    
    const dataKalori = {
        karbohidrat: [
            { "nama": "Nasi Putih", "kalori": "180 Kal" },
            { "nama": "Nasi Tim", "kalori": "120 Kal" },
            { "nama": "Nasi Beras Merah", "kalori": "149 Kal" },
            { "nama": "Nasi Jagung", "kalori": "357 Kal" },
            { "nama": "Jagung Kuning Muda Rebus", "kalori": "142 Kal" },
            { "nama": "Roti Putih", "kalori": "248 Kal" },
            { "nama": "Spaghetti", "kalori": "139 Kal" },
            { "nama": "Singkong Kukus", "kalori": "153 Kal" },
            { "nama": "Ubi Jalar Kuning Kukus", "kalori": "100 Kal" },
            { "nama": "Ubi Jalar Tinta Kukus", "kalori": "165 Kal" },
            { "nama": "Talas Kukus", "kalori": "93 Kal" },
            { "nama": "Tapai Beras", "kalori": "99 Kal" },
            { "nama": "Ketupat Ketan", "kalori": "212 Kal" },
            { "nama": "Tapai Ketan Hitam", "kalori": "166 Kal" },
            { "nama": "Tapai Ketan Putih", "kalori": "172 Kal" }
        ],       
        protein: [
            { "nama": "Kacang Bogor Rebus", "kalori": "161 Kal" },
            { "nama": "Kacang Hijau Rebus", "kalori": "109 Kal" },
            { "nama": "Kacang Kedelai Rebus", "kalori": "189 Kal" },
            { "nama": "Kacang Tanah Rebus dengan kulit", "kalori": "360 Kal" },
            { "nama": "Kacang Tanah Goreng", "kalori": "564 Kal" },
            { "nama": "Kacang Tanah Rebus", "kalori": "220 Kal" },
            { "nama": "Ampas Tahu Kukus", "kalori": "67 Kal" },
            { "nama": "Oncom", "kalori": "187 Kal" },
            { "nama": "Tahu Goreng", "kalori": "115 Kal" },
            { "nama": "Tahu Telur", "kalori": "328 Kal" },
            { "nama": "Tempe Pasar Goreng", "kalori": "336 Kal" },
            { "nama": "Susu Kedelai", "kalori": "41 Kal" },
            { "nama": "Daging Angsa Segar", "kalori": "349 Kal" },
            { "nama": "Daging Ayam Segar", "kalori": "298 Kal" },
            { "nama": "Hati Ayam Segar", "kalori": "261 Kal" },
            { "nama": "Daging Bebek Segar", "kalori": "321 Kal" },
            { "nama": "Daging Kambing Segar", "kalori": "149 Kal" },
            { "nama": "Daging Kerbau Segar", "kalori": "79 Kal" },
            { "nama": "Daging Sapi Gemuk Segar", "kalori": "273 Kal" },
            { "nama": "Ampela Ayam Goreng", "kalori": "270 Kal" },
            { "nama": "Daging Bebek Goreng", "kalori": "300 Kal" },
            { "nama": "Ayam Goreng Kalasan Paha", "kalori": "275 Kal" },
            { "nama": "Ayam Goreng Kentucky Dada", "kalori": "298 Kal" },
            { "nama": "Ayam Goreng Kentucky Paha", "kalori": "286 Kal" },
            { "nama": "Ayam Goreng Kentucky Sayap", "kalori": "297 Kal" },
            { "nama": "Belut Segar", "kalori": "70 Kal" },
            { "nama": "Cumi-Cumi Segar", "kalori": "75 Kal" },
            { "nama": "Ikan Bandeng Segar", "kalori": "123 Kal" },
            { "nama": "Ikan Baung Segar", "kalori": "123 Kal" },
            { "nama": "Ikan Bawal Segar", "kalori": "91 Kal" },
            { "nama": "Ikan Gabus Segar", "kalori": "80 Kal" },
            { "nama": "Ikan Layang Segar", "kalori": "109 Kal" },
            { "nama": "Ikan Tongkol Segar", "kalori": "100 Kal" },
            { "nama": "Ikan Teri", "kalori": "74 Kal" },
            { "nama": "Belut Goreng", "kalori": "417 Kal" },
            { "nama": "Cumi-Cumi Goreng", "kalori": "265 Kal" },
            { "nama": "Ikan Asin Kering", "kalori": "193 Kal" },
            { "nama": "Ikan Baung Bakar", "kalori": "144 Kal" },
            { "nama": "Ikan Mas Pepes", "kalori": "209 Kal" },
            { "nama": "Ikan Mujahir Goreng", "kalori": "416 Kal" },
            { "nama": "Telur Ayam Kampung Segar", "kalori": "174 Kal" },
            { "nama": "Telur Ayam Ras Segar", "kalori": "154 Kal" },
            { "nama": "Telur Ayam Dadar", "kalori": "251 Kal" },
            { "nama": "Telur Bebek Dadar", "kalori": "301 Kal" },
            { "nama": "Susu Kambing Segar", "kalori": "64 Kal" },
            { "nama": "Susu Sapi Segar", "kalori": "61 Kal" },
            { "nama": "Keju", "kalori": "326 Kal" },
            { "nama": "Susu Kental Manis", "kalori": "343 Kal" },
            { "nama": "Yogurt Segar", "kalori": "52 Kal" }
        ],
        lemak: [
            { "nama": "Lemak Ikan", "kalori": "372 Kal" },
            { "nama": "Minyak Ikan", "kalori": "902 Kal" },
            { "nama": "Minyak Kelapa", "kalori": "870 Kal" },
            { "nama": "Minyak Kelapa Sawit", "kalori": "884 Kal" },
            { "nama": "Minyak Wijen", "kalori": "881 Kal" },
            { "nama": "Minyak Zaitun", "kalori": "884 Kal" },
            { "nama": "Margarin", "kalori": "720 Kal" },
            { "nama": "Mentega", "kalori": "742 Kal" },
            { "nama": "Santan dengan Air", "kalori": "112 Kal" },
            { "nama": "Santan Murni", "kalori": "324 Kal"  }
        ],
        buah: [
            { "nama": "Alpukat Segar", "kalori": "85 Kal (per 100g)" },
            { "nama": "Apel Segar", "kalori": "58 Kal (per 100g)" },
            { "nama": "Belimbing Segar", "kalori": "36 Kal (per 100g)" },
            { "nama": "Buah Naga Merah Segar", "kalori": "71 Kal (per 100g)" },
            { "nama": "Buah Naga Putih Segar", "kalori": "56 Kal (per 100g)" },
            { "nama": "Jambu Air Segar", "kalori": "46 Kal (per 100g)" },
            { "nama": "Jambu Bol Segar", "kalori": "49 Kal (per 100g)" },
            { "nama": "Jambu Biji Segar", "kalori": "64 Kal (per 100g)" },
            { "nama": "Jeruk Bali", "kalori": "48 Kal (per 100g)" },
            { "nama": "Jeruk Manis Segar", "kalori": "45 Kal (per 100g)" },
            { "nama": "Jeruk Nipis Segar", "kalori": "44 Kal (per 100g)" },
            { "nama": "Kedondong Segar", "kalori": "47 Kal (per 100g)" },
            { "nama": "Mangga Harumanis Segar", "kalori": "46 Kal (per 100g)" },
            { "nama": "Mangga Indramayu", "kalori": "72 Kal (per 100g)" },
            { "nama": "Mangga Manalagi", "kalori": "133 Kal (per 100g)" },
            { "nama": "Mangga Gedung", "kalori": "44 Kal (per 100g)" },
            { "nama": "Mangga Kwini", "kalori": "86 Kal (per 100g)" },
            { "nama": "Manggis", "kalori": "63 Kal (per 100g)" },
            { "nama": "Melon", "kalori": "37 Kal (per 100g)" },
            { "nama": "Nanas Segar", "kalori": "40 Kal (per 100g)" },
            { "nama": "Nangka Masak Pohon", "kalori": "106 Kal (per 100g)" },
            { "nama": "Pepaya Segar", "kalori": "46 Kal (per 100g)" },
            { "nama": "Pisang Ambon Segar", "kalori": "108 Kal (per 100g)" },
            { "nama": "Pisang Kepok Segar", "kalori": "109 Kal (per 100g)" },
            { "nama": "Pisang Raja Segar", "kalori": "120 Kal (per 100g)" },
            { "nama": "Rambutan Segar", "kalori": "69 Kal (per 100g)" },
            { "nama": "Salak Segar", "kalori": "77 Kal (per 100g)" },
            { "nama": "Sawo Manila Segar", "kalori": "92 Kal (per 100g)" },
            { "nama": "Semangka Segar", "kalori": "28 Kal (per 100g)" }
        ],
        sayur: [
            { "nama": "Tomat Merah Segar", "kalori": "24 Kal (per 100g)" },
            { "nama": "Touge Segar", "kalori": "34 Kal (per 100g)" },
            { "nama": "Seledri Segar", "kalori": "23 Kal (per 100g)" },
            { "nama": "Selada Segar", "kalori": "18 Kal (per 100g)" },
            { "nama": "Rumput Laut", "kalori": "41 Kal (per 100g)" },
            { "nama": "Petai Segar", "kalori": "92 Kal (per 100g)" },
            { "nama": "Ketimun Segar", "kalori": "8 Kal (per 100g)" },
            { "nama": "Jengkol Segar", "kalori": "192 Kal (per 100g)" },
            { "nama": "Jantung Pisang Segar", "kalori": "32 Kal (per 100g)" },
            { "nama": "Bayam Rebus", "kalori": "23 Kal (per 100g)" },
            { "nama": "Buncis Rebus", "kalori": "30 Kal (per 100g)" },
            { "nama": "Daun Katuk Rebus", "kalori": "53 Kal (per 100g)" },
            { "nama": "Daun Kelor Rebus", "kalori": "61 Kal (per 100g)" },
            { "nama": "Daun Singkong Rebus", "kalori": "31 Kal (per 100g)" },
            { "nama": "Kacang Panjang Rebus", "kalori": "30 Kal (per 100g)" },
            { "nama": "Kangkung Rebus", "kalori": "22 Kal (per 100g)" },
            { "nama": "Wortel Rebus", "kalori": "28 Kal (per 100g)" },
            { "nama": "Cap Cai Sayur", "kalori": "97 Kal (per 100g)" },
            { "nama": "Sayur Asem", "kalori": "29 Kal (per 100g)" },
            { "nama": "Sayur Sop", "kalori": "27 Kal (per 100g)" },
            { "nama": "Semur Jengkol", "kalori": "212 Kal (per 100g)" },
            { "nama": "Sayur Bunga Pepaya", "kalori": "49 Kal (per 100g)" }
        ]
    };

    function createTable(data, type) {
        let headerText = "";
        if (type === "karbohidrat" || type === "protein" || type === "lemak") {
            headerText = "per 100 gram";
        }
      
        let tableHTML = `
            <table>
                <thead>
                    <tr>
                        <th>Sumber Makanan</th>
                        <th>Kalori ${headerText}</th>
                    </tr>
                </thead>
                <tbody>
        `;
        data.forEach(item => {
            tableHTML += `
                <tr>
                    <td>${item.nama}</td>
                    <td>${item.kalori}</td>
                </tr>
            `;
        });
        tableHTML += `
                </tbody>
            </table>
        `;
        return tableHTML;
    }

    function showSource(source) {
        const allTables = document.querySelectorAll('.content-table');
        allTables.forEach(table => table.classList.remove('active'));
        const allButtons = document.querySelectorAll('.nav-tabs button:not(.menu-day-nav button)');
        allButtons.forEach(button => button.classList.remove('active'));

        const targetContent = document.getElementById(`content-${source}`);
        targetContent.classList.add('active');
        document.querySelector(`.nav-tabs button[onclick="showSource('${source}')"]`).classList.add('active');
        targetContent.innerHTML = createTable(dataKalori[source], source);
    }
    
    // Data Menu (Sama seperti yang Anda berikan)
    const menu7Hari = {
        "1": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Telur Ayam Dadar (100 gram)", kalori: "251 Kal" },
                { nama: "Bayam Rebus (100 gram)", kalori: "23 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "146 Kal" }
            ],
            makan_siang: [
                { nama: "Nasi Putih (150 gram)", kalori: "270 Kal" },
                { nama: "Ayam Goreng Kalasan Paha (100 gram)", kalori: "275 Kal" },
                { nama: "Tempe Pasar Goreng (50 gram)", kalori: "168 Kal" },
                { nama: "Kangkung Rebus (100 gram)", kalori: "22 Kal" },
                { nama: "Pepaya Segar (100 gram)", kalori: "46 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "19 Kal" }
            ],
            camilan: [
                { nama: "Kacang Tanah Rebus (100 gram)", kalori: "220 Kal" },
                { nama: "Pisang Ambon Segar (100 gram)", kalori: "108 Kal" },
                { nama: "Estimasi Tambahan", kalori: "72 Kal" }
            ],
            makan_malam: [
                { nama: "Singkong Kukus (100 gram)", kalori: "153 Kal" },
                { nama: "Ikan Tongkol Segar (Dibakar/Kuah, 200 gram)", kalori: "200 Kal" },
                { nama: "Tahu Goreng (100 gram)", kalori: "115 Kal" },
                { nama: "Wortel Rebus (100 gram)", kalori: "28 Kal" },
                { nama: "Semangka Segar (100 gram)", kalori: "28 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "176 Kal" }
            ]
        },
        "2": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Roti Putih (100 gram)", kalori: "248 Kal" },
                { nama: "Telur Ayam Ras Rebus (100 gram)", kalori: "154 Kal" },
                { nama: "Tomat Merah Segar (100 gram)", kalori: "24 Kal" },
                { nama: "Selada Segar (100 gram)", kalori: "18 Kal" },
                { nama: "Estimasi Tambahan Lemak/Pelengkap", kalori: "156 Kal" }
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ikan Mujahir Goreng (100 gram)", kalori: "416 Kal" },
                { nama: "Ampas Tahu Kukus (100 gram)", kalori: "67 Kal" },
                { nama: "Cap Cai Sayur (100 gram)", kalori: "97 Kal" },
                { nama: "Nanas Segar (100 gram)", kalori: "40 Kal" }
            ],
            camilan: [
                { nama: "Ubi Jalar Tinta Kukus (200 gram)", kalori: "330 Kal" },
                { nama: "Jeruk Manis Segar (100 gram)", kalori: "45 Kal" },
                { nama: "Estimasi Tambahan", kalori: "25 Kal" }
            ],
            makan_malam: [
                { nama: "Jagung Kuning Muda Rebus (200 gram)", kalori: "284 Kal" },
                { nama: "Daging Ayam Rebus (100 gram)", kalori: "298 Kal" },
                { nama: "Oncom Tumis (100 gram)", kalori: "187 Kal" },
                { nama: "Buncis Rebus (100 gram)", kalori: "30 Kal" },
                { nama: "Semangka Segar (100 gram)", kalori: "28 Kal" }
               
            ]
        },
        "3": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Ubi Jalar Kuning Kukus (200 gram)", kalori: "200 Kal" },
                { nama: "Telur Ayam Dadar (100 gram)", kalori: "251 Kal" },
                { nama: "Tempe Goreng (50 gram)", kalori: "168 Kal" },
                { nama: "Jambu Air Segar (100 gram)", kalori: "46 Kal" }
                
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ikan Mas Pepes (100 gram)", kalori: "209 Kal" },
                { nama: "Tahu Telur (100 gram)", kalori: "328 Kal" },
                { nama: "Daun Singkong Rebus (100 gram)", kalori: "31 Kal" },
                { nama: "Pepaya Segar (100 gram)", kalori: "46 Kal" }
            ],
            camilan: [
                { nama: "Kacang Tanah Rebus (100 gram)", kalori: "220 Kal" },
                { nama: "Pisang Kepok Segar (100 gram)", kalori: "109 Kal" },
                { nama: "Estimasi Tambahan", kalori: "71 Kal" }
            ],
            makan_malam: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Hati Ayam Dimasak (100 gram)", kalori: "261 Kal" },
                { nama: "Tahu Goreng (100 gram)", kalori: "115 Kal" },
                { nama: "Sayur Asem (100 gram)", kalori: "29 Kal" },
                { nama: "Ketimun Segar (100 gram)", kalori: "8 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "107 Kal" }
            ]
        },
        "4": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Talas Kukus (200 gram)", kalori: "186 Kal" },
                { nama: "Ayam Goreng Kentucky Sayap (100 gram)", kalori: "297 Kal" },
                { nama: "Touge Segar (100 gram)", kalori: "34 Kal" },
                { nama: "Mangga Harumanis Segar (100 gram)", kalori: "46 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "37 Kal" }
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Belut Goreng (100 gram)", kalori: "417 Kal" },
                { nama: "Oncom (100 gram)", kalori: "187 Kal" },
                { nama: "Daun Katuk Rebus (100 gram)", kalori: "53 Kal" },
                { nama: "Jambu Biji Segar (100 gram)", kalori: "64 Kal" }
               
            ],
            camilan: [
                { nama: "Singkong Kukus (150 gram)", kalori: "230 Kal" },
                { nama: "Jeruk Manis Segar (200 gram)", kalori: "90 Kal" },
                { nama: "Estimasi Tambahan", kalori: "80 Kal" }
            ],
            makan_malam: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ikan Bandeng Pepes (150 gram)", kalori: "184 Kal" },
                { nama: "Tempe Goreng (100 gram)", kalori: "336 Kal" },
                { nama: "Kacang Panjang Rebus (100 gram)", kalori: "30 Kal" }
                
            ]
        },
        "5": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Roti Putih (100 gram)", kalori: "248 Kal" },
                { nama: "Daging Ayam Tumis/Rebus (100 gram)", kalori: "298 Kal" },
                { nama: "Jantung Pisang Rebus (100 gram)", kalori: "32 Kal" },
                { nama: "Estimasi Tambahan Lemak/Pelengkap", kalori: "22 Kal" }
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ikan Asin Kering Goreng (100 gram)", kalori: "193 Kal" },
                { nama: "Tahu Goreng (100 gram)", kalori: "115 Kal" },
                { nama: "Sayur Bunga Pepaya (100 gram)", kalori: "49 Kal" },
                { nama: "Pisang Raja Segar (100 gram)", kalori: "120 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "143 Kal" }
            ],
            camilan: [
                { nama: "Jagung Kuning Muda Rebus (100 gram)", kalori: "142 Kal" },
                { nama: "Nangka Masak Pohon (100 gram)", kalori: "106 Kal" },
                { nama: "Estimasi Tambahan", kalori: "152 Kal" }
            ],
            makan_malam: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ampela Ayam Goreng (100 gram)", kalori: "270 Kal" },
                { nama: "Ampas Tahu Kukus (100 gram)", kalori: "67 Kal" },
                { nama: "Kangkung Rebus (100 gram)", kalori: "22 Kal" },
                { nama: "Mangga Indramayu (100 gram)", kalori: "72 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "89 Kal" }
            ]
        },
        "6": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Telur Ayam Ras Rebus (100 gram)", kalori: "154 Kal" },
                { nama: "Tempe Goreng (100 gram)", kalori: "336 Kal" },
                { nama: "Tomat Merah Segar (100 gram)", kalori: "24 Kal" }
                
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ayam Goreng Kentucky Dada (100 gram)", kalori: "298 Kal" },
                { nama: "Tahu Goreng (100 gram)", kalori: "115 Kal" },
                { nama: "Sayur Sop (100 gram)", kalori: "27 Kal" },
                { nama: "Pepaya Segar (100 gram)", kalori: "46 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "134 Kal" }
            ],
            camilan: [
                { nama: "Kacang Tanah Rebus dengan Kulit (100 gram)", kalori: "360 Kal" },
                { nama: "Jambu Bol Segar (100 gram)", kalori: "49 Kal" }
                
            ],
            makan_malam: [
                { nama: "Singkong Kukus (150 gram)", kalori: "230 Kal" },
                { nama: "Ikan Baung Bakar (100 gram)", kalori: "144 Kal" },
                { nama: "Oncom Tumis (100 gram)", kalori: "187 Kal" },
                { nama: "Buncis Rebus (100 gram)", kalori: "30 Kal" },
                { nama: "Semangka Segar (100 gram)", kalori: "28 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "81 Kal" }
            ]
        },
        "7": {
            total: { kalori: 2500 },
            sarapan: [
                { nama: "Ubi Jalar Tinta Kukus (100 gram)", kalori: "165 Kal" },
                { nama: "Telur Ayam Kampung Rebus (100 gram)", kalori: "174 Kal" },
                { nama: "Oncom Tumis (100 gram)", kalori: "187 Kal" },
                { nama: "Mangga Kwini (100 gram)", kalori: "86 Kal" },
                
            ],
            makan_siang: [
                { nama: "Nasi Putih (100 gram)", kalori: "180 Kal" },
                { nama: "Ikan Layang Goreng/Balado (150 gram)", kalori: "164 Kal" },
                { nama: "Tahu Goreng (100 gram)", kalori: "115 Kal" },
                { nama: "Sayur Asem (100 gram)", kalori: "29 Kal" },
                { nama: "Jeruk Manis Segar (200 gram)", kalori: "90 Kal" },
                { nama: "Estimasi Tambahan Lemak/Bumbu", kalori: "222 Kal" }
            ],
            camilan: [
                { nama: "Kacang Hijau Rebus (100 gram)", kalori: "109 Kal" },
                { nama: "Pisang Raja Segar (100 gram)", kalori: "120 Kal" },
                { nama: "Santan dengan Air (100 gram)", kalori: "112 Kal" },
                { nama: "Estimasi Tambahan (Gula)", kalori: "59 Kal" }
            ],
            makan_malam: [
                { nama: "Talas Kukus (150 gram)", kalori: "140 Kal" },
                { nama: "Ayam Goreng Kentucky Paha (100 gram)", kalori: "286 Kal" },
                { nama: "Tempe Goreng (100 gram)", kalori: "336 Kal" },
                { nama: "Daun Kelor Rebus (100 gram)", kalori: "61 Kal" },
                { nama: "Estimasi Pengurangan Porsi Lauk", kalori: "-123 Kal" }
            ]
        }
    };

    function showMenu(day) {
        const menuContainer = document.getElementById('menu-content-display');
        menuContainer.innerHTML = '';
        const menuData = menu7Hari[day];

        if (!menuData) {
            menuContainer.innerHTML = `<p>Maaf, data menu untuk hari ini tidak tersedia.</p>`;
            return;
        }

        let menuHTML = `
            <div class="menu-header">
                <h3>Total Kalori Hari ${day}: ${menuData.total.kalori} kkal</h3>            
            </div>
        `;

        const mealOrder = ['sarapan', 'snack_pagi', 'makan_siang', 'snack_sore', 'makan_malam'];
        
        mealOrder.forEach(meal => {
          if (menuData[meal]) {
            let mealTitle = "";
            if (meal === "sarapan") mealTitle = "Sarapan";
            else if (meal === "snack_pagi") mealTitle = "Snack Pagi";
            else if (meal === "makan_siang") mealTitle = "Makan Siang";
            else if (meal === "snack_sore") mealTitle = "Snack Sore";
            else if (meal === "makan_malam") mealTitle = "Makan Malam";
    
            menuHTML += `
                <div class="meal-section">
                    <h4><i class="fas fa-apple-alt"></i> ${mealTitle}</h4>
                    <ul>
            `;
            menuData[meal].forEach(item => {
                menuHTML += `
                    <li class="food-item">
                        <span>${item.nama}</span>
                        <small>${item.kalori}</small>
                    </li>
                `;
            });
            menuHTML += `</ul></div>`;
          }
        });
        
        menuContainer.innerHTML = menuHTML;

        document.querySelectorAll('.menu-day-nav .tab-button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.querySelector(`.menu-day-nav .tab-button[onclick="showMenu(${day})"]`).classList.add('active');
    }
    
    function toggleVisibility(containerId, buttonId) {
        const container = document.getElementById(containerId);
        const button = document.getElementById(buttonId);
        
        if (container.classList.contains('show')) {
            container.classList.remove('show');
            if (containerId === 'source-kalori-wrapper') {
                button.innerHTML = "Lihat Sumber Kalori";
                document.querySelectorAll('.content-table').forEach(table => table.classList.remove('active'));
                document.querySelectorAll('.nav-tabs button:not(.menu-day-nav button)').forEach(btn => btn.classList.remove('active'));
            } else if (containerId === 'menu-container') {
                button.innerHTML = "Lihat Contoh Menu 7 Hari";
            }
        } else {
            container.classList.add('show');
            if (containerId === 'source-kalori-wrapper') {
                button.innerHTML = "Sembunyikan Sumber Kalori";
                showSource('karbohidrat'); 
            } else if (containerId === 'menu-container') {
                button.innerHTML = "Sembunyikan Menu 7 Hari";
                showMenu(1); 
            }
        }
    }

    function toggleLifestyle(contentId) {
        const content = document.getElementById(contentId);
        const header = content.previousElementSibling;

        if (content.classList.contains('active')) {
            content.classList.remove('active');
            header.classList.remove('active');
        } else {
            document.querySelectorAll('.lifestyle-content.active').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.lifestyle-section-header.active').forEach(h => h.classList.remove('active'));

            content.classList.add('active');
            header.classList.add('active');
        }
    }
    
    // Navbar navigation logic
    document.addEventListener('DOMContentLoaded', () => {
        const navLinks = document.querySelectorAll('.navbar a');
        
        navLinks.forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault(); // Mencegah tindakan default jika ada

                // sembunyikan card hasil setiap kali pindah tab
                document.getElementById('hasilKalkulator').classList.remove('active');
                
                const target = link.getAttribute('data-target');
                setActiveCard(target);

                // Sembunyikan konten kalori, menu, dan gaya hidup saat pindah tab
                document.getElementById('source-kalori-wrapper').classList.remove('show');
                document.getElementById('toggleKaloriBtn').innerHTML = "Lihat Sumber Kalori";
                document.getElementById('menu-container').classList.remove('show');
                document.getElementById('toggleMenuBtn').innerHTML = "Lihat Contoh Menu 7 Hari";
                document.querySelectorAll('.lifestyle-content.active').forEach(c => c.classList.remove('active'));
                document.querySelectorAll('.lifestyle-section-header.active').forEach(h => h.classList.remove('active'));
            });
        });

        // Tampilkan menu hari 1 saat pertama kali membuka tab menu
        const menuButton = document.querySelector('.navbar a[data-target="sumberKalori"]');
        if (menuButton) {
            menuButton.addEventListener('click', () => {
                const menuContainer = document.getElementById('menu-container');
                if (menuContainer && menuContainer.classList.contains('show')) {
                    showMenu(1);
                }
            });
        }
        
        // Inisialisasi tampilan awal
        setActiveCard('home');
    });

  </script>
</body>
</html>
